\documentclass{article}

\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{commath}
\usepackage{mathtools}
\usepackage{adjustbox}
\usepackage{setspace}
\usepackage{bigints}
\usepackage{hyperref}
\usepackage{ulem}
\usepackage{esdiff}
\usepackage{pgfplots}
\usepackage{caption}
\usetikzlibrary{shapes.symbols, positioning, patterns}
\usepackage{tikz-cd}
\usetikzlibrary{positioning}



\newtheorem{definicija}{Definicija}
\newtheorem{trditev}{Trditev}
\newtheorem{lema}{Lema}
\newtheorem{posledica}{Posledica}
\newtheorem{opomba}{Opomba}
\newtheorem{primer}{Primer}
\newtheorem{izrek}{Izrek}


\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Ho}{\mathcal{O}}
\newcommand{\dd}{\mathrm{d}}

\title{Dinamika realnih funkcij}
\author{Uroš Kosmač}

\begin{document}

% Create a new 1st level heading
\section{Uvod}
Kaj so dinamični sistemi? Najbolj enostavno jih lahko opišemo kot:\\[1mm]
\begin{tikzpicture}
    \node[text width=1.1cm,inner sep=0pt]
    [execute at begin node=\setlength{\baselineskip}{8pt},
        cloud,
        draw] (c) at (0,0)
    {\scriptsize{Dinamični\\sistem}};
    \node at (2,0) {\huge $=$};
    \node[text width=1.1cm,inner sep=2pt]
    [execute at begin node=\setlength{\baselineskip}{8pt},
        cloud,
        draw] (c) at (4,0)
    {\scriptsize{Množica možnih\\ \text{stanj delca}}};
    \node at (6,0) {\huge $+$};
    \node[text width=1.5cm,inner sep=2pt]
    [execute at begin node=\setlength{\baselineskip}{8pt},
        cloud,
        draw] (c) at (8,0)
    {\scriptsize{Deterministično evolucijsko\\stanje}};
\end{tikzpicture}
~\\[1mm]
Drugače povedano, obravnavamo delec v množici možnih stanj, pravilo, pa nam pove, kaj se z njim zgodi v naslednjem trenutku.\\ 
Deterministično, v našem kontekstu pomeni, da je naslednji korak odvisen le od trenutnega stanja delca.\\ 
V grobem jih glede na tip koraka, ločimo na \textbf{diskretne} in \textbf{zvezne} sisteme. V splošnem jih lahko obravnavamo na npr. metričnih ali topoloških prostorih, mi pa se bomo omejili na $\R^n$ in $\C$. Obravnavali bomo
\begin{enumerate}
\item[i)] Diferenčne oz.rekurzivna enačbe $x_{n+1} = F(x_n)$, 
za $F: S\rightarrow S$ in pri različnih začetnih pogojih $x_0 \in S$, kjer je $S$ množica stanja v $\R^n$ ali $\C$. Temu rečemo diskretna dinamika funkcije oz. preslikave $F$
\item[ii)] Nelinearni sistemi navadnih diferencilnih enačb, $F: S\subseteq \R^n \rightarrow S \subseteq \R^n$, $\dot{x} = F(x)$, $x\in S$. To bo model za zvezne dinamične sisteme v $\R^n$.
\end{enumerate}

\begin{opomba}
V obeh primer govorimo o \textbf{autonomnih sistemih} tj. pravilo ni odvisno od časa. Pokažimo, da lahko poljuben sistem prevedemo na avtonomen sistem, zato je dovolj obravnavati le te.
\begin{align*}
\dot{x} = F(x,t) \iff  &\dot{x} = F(x, t) \iff \dot{\tilde{x}} = \tilde{F}(\tilde{x}) \text{ za } \tilde{x} = (x, t) \text{ in } \tilde{F} = (F, 1) \\ 
&\dot{t} = 1
\end{align*}

\begin{align*}
x_{n+1} = F(x_n,n) \iff  &x_{n+1} = F(x_n, y_n) \iff \tilde{x}_{n+1} = \tilde{F}(x_n) \text{ za } \tilde{x} = (x, y) \\ 
                         &y_{n+1} = y_n + 1
\end{align*}

tj. če nimamo dimenzijskih omejitev, so avtonomni sistemi najsplošnejši možni, saj lahko čas premaknemo v množico stanj tj. $\tilde{S} = S \times \R$ oz. $\tilde{S} = S \times \Z$.
\end{opomba}

\begin{primer}
Zgodil se je umor in imamo naslednje podatke:
\begin{itemize}
    \item Temperatur $T$ trupla ob prihodu: $T(0) = 9^\circ C$
    \item Temperatura $T$ po $1$h: $T(1) = 7^\circ C$
    \item Temperatura jezera $T_j$: $T_j = 5^\circ C$ 
\end{itemize}
Kdaj se je zgodil umor? \\
Fizikalni zakon: telesna temperatura pada sorazmerno z razliko do temperature jezera. \\
Diskretni model:
$$
T_{n+1} = T_n - k(T_n - T_j),
$$
kjer sta:
\begin{itemize}
\item $k>0$ konstanta odvisna le od lasnosti trupla
\item $T_n - T_j$ temperaturna razlika
\end{itemize}
Vstavimo meritve: čas ob prihodu
\begin{align*}
7C &= 9C - k(9C - 5C) \\ 
&\Longrightarrow k = \frac{1}{2}.
\end{align*}
Sistem, ki opisuje telesno temperaturo, je podano z 
$$
T_{n+1} = T_n - \frac{1}{2}(T_n - T_j) = \frac{1}{2}T_n + \frac{1}{2} T_j.
$$
\noindent
V tem primeru lahko poiščemo ekplicitno rešitev:\\ 
Homogeni del:
$$
T_{n+1} = \frac{1}{2} T_n \Longrightarrow T_n = C\Big(\frac{1}{2}\Big)^n.
$$
Partikularna rešitev:
$$
T_n^p = T_j = 5C
$$
Splošna rešitev:
\begin{align*}
T_n &= C\Big(\frac{1}{2}\Big)^n + T_j \\ 
T_0 &= C + T_j \Longrightarrow C = T_0 - T_j\\ 
T_n &= (T_0 - T_j)\cdot\Big(\frac{1}{2}\Big)^n + T_j
\end{align*}
Odgovor:\\ 
vemo, da je $T_0 = 37C$ torej imamo
\begin{align*}
T_n &= (37 - 5) \Big(\frac{1}{2}\Big)^n  + 5 = 9 \\ 
&\Longrightarrow n = 3.
\end{align*}
Umor se je zgodil $3h$ pred prihodom.\\ 
Zvezni model:
model je dan z
$$
\dot{T} = - k(T - T_j).
$$
Rešimo z metodo ločljivih spremenljiv
$$
T = D e^{-kt} + T_j
$$
Začetni pogoj: $T(0) = T_0$ $\Longrightarrow$ $D = T_0 - T_j$ in je rešitev
$$
T(t) = (T_0 - T_j)e^{-kt} + T_j
$$
Čas prihoda: $T(n) = 9C$, \\ 
Čas po eni uri: $T(n+1) = 7C$.\\ 
Rešimo sistem enačb in dobimo $n = 3$. Dobimo enak sklep kot prej, dinamični sistem, ki opisuje temperaturo, pa je
$$
\dot{T} = \ln\Big(\frac{1}{2}\Big)(T - T_j) = -\ln{2}(T-T_j)
$$
\begin{tikzpicture}
    \begin{axis}[
        axis x line=middle, 
        axis y line=middle,
        xlabel={$t$}, ylabel={$T$},
        xmin=0, xmax=5, ymin=0, ymax=3,
        samples=100,
        domain=0:5,
        legend pos=south east
    ]
        % Asymptote T_j
        \addplot[dashed] coordinates {(0,2) (5,2)} node[pos=1,right] {$T_j$};
        
        % Logarithmic-type curves converging to T_j from below
        \addplot[thick,blue] {2 - 0.8*exp(-x)};
        \addplot[thick,red] {2 - 1.2*exp(-x)};
        \addplot[thick,green] {2 - 0.5*exp(-x)};
        
        % Logarithmic-type curves converging to T_j from above
        \addplot[thick,purple] {2 + 0.6*exp(-x)};
        \addplot[thick,orange] {2 + 0.9*exp(-x)};
        
        % Marking initial values t_0
        \node[blue] at (15, 140) {$t_0$};
        \node[red] at (15, 110) {$t_0$};
        \node[green] at (15, 170) {$t_0$};
        \node[purple] at (15, 240) {$t_0$};
        \node[orange] at (15, 270) {$t_0$};
        
    \end{axis}
\end{tikzpicture}


\vspace{1cm}
V tem primeru, je $T \equiv 5C$ neka fiksna točka oz. ravnovesje, "pritegne" ostale rešitve. Tekom predmeta bomo spoznali bolj zapletene primere.
\end{primer}

\maketitle
\section{Osnovni pojmi}
Za začetek se bomo omejili na funkcije $f: I\subseteq \R \rightarrow I$, kjer je $I$ interval. Obravnavali bomo zaporedje $x_{n+1} = f(x_n)$ pri različnih pogojih $x_0 \in I$. Za začetek uvedemo oznako:
$$
f^n = \underbrace{f\circ f \dots \circ f}_{n \text{ kompozitumov} }
$$
\begin{definicija}
\textbf{Orbita točke $x_0$} pri funkciji $f$ je podana s členi zaporedja:
$$
O_f(x_0) = \{x_0, x_1, \dots\} = \{f^n(x_0)\,|\, n\in \N_0\}.
$$
Orbita predstavlja dinamični razvoj točke $x_0$ pri komponiranju z $f$. 
Množici vseh orbit za $x_0 \in I$ pa rečemo \textbf{dinamika funkcije $f$}.
\end{definicija}

\begin{primer}
$x_{n+1} = x_n^2 + 1 \text{ oz. } f(x) = x^2 + 1$
\begin{align*}
O_f(1) &= \{1, 2, 5, 26, \dots\} \\ 
O_f(0) &= \{0, 1, 2, 5, 26, \dots\}\\
O_f(-2) &= \{-2, 5, 26, \dots \}
\end{align*}
orbite lahko pri funkcijah ene spremenljivke vizualiziramo z \textbf{pajčevinastim diagramom}.

\begin{figure}[h]
\begin{centering}
    \includegraphics[width=6cm, height=4.5cm]{Grafi/cobweb1.png}
\end{centering}
\end{figure}

\newpage
Postopek:
\begin{itemize}
\item izbereš $x_0$ na osi $x$,
\item greš navpično na $f(x)$,
\item greš vodoravno do $y = x$,
\item ponavljaš zadnja dva koraka.
\end{itemize}
\end{primer}


\begin{primer}
Sherlock: $x_{n+1} = \frac{1}{2} x_n + \frac{5}{2}$ oz. $f(x) = \frac{1}{2} x + \frac{5}{2}$.\\ 

\begin{figure}[h]
    \begin{centering}
   \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb2.png}
    \end{centering}
\end{figure}
    
$O_f(5) = \{5, 5, \dots \}$. Za ostale orbite velja: $x_n \rightarrow 5$.
\end{primer}

\begin{definicija}
Točka \textbf{$x_0 \in \R$ je periodična s periodo $n\in \N$} za $f$, če zanjo velja $f^n(x_0) = x_0$ in je $n$ najmanjše naravno število s to lastnostjo. Če je $n=1$, taki točki pravimo \textbf{fiksna točka}.
\end{definicija}

\begin{primer}
$f(x) = -x^3$. \\ 
Fiksne točke: 
$$f(x) = x \iff -x^3 = x \iff x = 0.$$ 
Točke periode $2$: $$f^2(x) = x \text{ in } f(x) \neq x \iff x^9 = x \text{ in } -x^3 \neq x\iff x = \pm 1.$$


\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb3.png}
        \caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
    \end{figure}    
\end{primer}

\begin{definicija}
Orbiti $n$- periodične točke rečemo $n$-cikel.
\end{definicija}

\newpage
\begin{definicija}
Naj bo $x_0 \in I$ fiksna točka za $f:I \rightarrow I$.
\begin{itemize}
\item $x_0$ je \textbf{šibko privlačna}, če obstaja njena okolica $U\subseteq I$, da za vsak $y_0 \in U$ velja $y_n = f^n(y_0) \rightarrow x_0$.
\item $x_0$ je \textbf{šibko odbojna}, če obstaja njena okolica $U\subseteq I$, da za vsak $y_0 \in U\backslash\{x_0\}$ obstaja $m\in \N$, da $f^m(x_0) \not\in U$.
\end{itemize}
Okolici iz prve točke pravimo \textbf{območje privlaka za $x_0$}, največjemu intervalu znotraj $U$, ki vsebuje $x_0$ pa rečemo \textbf{neposredno območje privlaka za $x_0$}.\\ 
\end{definicija}

\begin{opomba}
Če je $f \in C^0(I)$ in $f^n(x) \rightarrow x_0$ je $x_0$ nujno fiksna točka:
$$
f^n(x) \rightarrow x_0 \Longrightarrow \lim_{n\rightarrow \infty} f^{n+1}(x)= f(x_0) = x_0 = 
\lim_{n\rightarrow \infty} f^n(x)
$$
\end{opomba}

\begin{definicija}
Če je $f \in C^1(I)$, dodamo pojme:
\begin{itemize}
\item $x_0$ je \textbf{privlačna}, če $|f'(x_0)| < 1$.
\item $x_0$ je \textbf{odbojna}, če $|f'(x_0)| > 1$.
\item $x_0$ je \textbf{nevtralna}, če $|f'(x_0)| = 1$.
\end{itemize} 
\end{definicija}

\begin{primer}
Sherlock: $f(x) = \frac{1}{2}x + \frac{5}{2}$.
$f'(5) = \frac{1}{2}$ je privlačna in šibko privlačna.
\end{primer}

\newpage
\begin{primer}
Dane imamo tri funkcije $f_1(x) = x + x^3$, $f_2(x) = x - x^3$ in 
$f_3(x) = x + x^2$ 
    \begin{figure}[h]
        \centering
        % First figure
        \begin{subfigure}[b]{0.3\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Grafi/cobweb41.png}
            \caption{\\$U = \R$\\$x=0$ šibko odbojna}
            \label{fig:cobweb31}
        \end{subfigure}
        % Second figure
        \begin{subfigure}[b]{0.3\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Grafi/cobweb42.png}
            \caption{\\$U = [-1,1]$\\$x=0$ šibko privlačna}
            \label{fig:cobweb32}
        \end{subfigure}
        % Third figure
        \begin{subfigure}[b]{0.3\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Grafi/cobweb43.png}
            \caption{\\$x=0$ ni šibko odbojna\\ ne privlačna}
            \label{fig:cobweb33}
        \end{subfigure}
    \end{figure}
V vseh treh primerih pa je $|f'(0)| = 1$ tj. gre za nevtralne točke.
\end{primer}

\begin{izrek}
Naj bo $f\in C^1(I)$ in $x_0 \in I$ fiksna točka. Potem velja:
\begin{enumerate}
\item[i)] Če je $|f'(x_0)| < 1$, je $x_0$ šibko privlačna.
\item[ii)] Če je $|f'(x_0)| > 1$, je $x_0$ šibko odbojna. 
\item[iii)] Če je $|f'(x_0)| = 1$, je $x_0$ nevtralna, pogledamo višje odvode za več informacij.
\end{enumerate}
\end{izrek}

\begin{proof}[Dokaz:]
\hfil
\begin{enumerate}
\item[i):] Recimo, da je $|f'(x_0)| < \lambda < 1$. Potem obstaja $\delta > 0$, da je $|f'(x_0)| < \lambda$ za vsak $x\in (x_0 - \delta, x_0 + \delta)$ zaradi zveznosti odvoda. Uporabimo Lagrangeov izrek
$$
f'(x) = \frac{f(x) - f(x_0)}{x - x_0} \quad \text{ za } c\in (x, x_0).
$$
Ker je $x_0$ fiksna točka
$$
f'(x) = \frac{f(x) - x_0}{x - x_0}.
$$
Naredimo oceno 
$$
|f(x) - x_0| = |f'(c)|\cdot |x - x_0| < \lambda |x - x_0|. 
$$
Zato za $x\in (x_0 - \delta, x_0 + \delta)$, velja da je tudi $f(x) \in (x_0 - \delta, x_0 + \delta)$. Indultivno sklepamo
$$
|f(f(x)) - f(x_0)| = |f^2(x) - x_0| < \lambda^2 |x - x_0|
$$
oz. 
$$
|f^n(x) - x_0| < \lambda^n |x - x_0|.
$$
Ker je $\lambda \in (0, 1)$, gre $\lambda^n \rightarrow 0$ za $n\rightarrow \infty$ torej $\lim_{n\rightarrow \infty} f^n(x) = x_0$.
\item[ii):] Dokaz je podoben, le da $\lambda > 1$ tj. za nek velik $m\in \N$, bo $\lambda^m |x - x_0|$ šel iz okolice.
\end{enumerate}
\end{proof}

\begin{definicija}
Fiksna točka $x_0 \in I$ je \textbf{stabilna} za $f:I \rightarrow I$, če za vsako njeno okolico $U \subset I$ obstaja manjša okolica $U' \subset U$, da za vsak $x\in U'$ velja $O_f(x) \subset U$.
\end{definicija}

\begin{opomba}
Iz dokaza izreka sledi, da privlačnost porodi enakomerno konvergenco 
$f^n(x) \rightarrow x_0$ za vse $x\in (x_0 - \delta, x + \delta)$.
Sledi, da so vse privlačne fiksne točke stabilne. 
Pa tudi take, katerih bližnje orbite ne konvergirajo nujno k $x_0$ tj. obstajajo 
nevtralne točke, ki niso šibko privlačne, a so vseeno stabilne npr. 
$f(x) = 1 - x$. Imamo $f^2(x) = x$ in $f(\frac{1}{2}) = \frac{1}{2}$ in 
$f'(\frac{1}{2}) = -1$. Torej je $\frac{1}{2}$ nevtralna fiksna točka, ostale 
točke so $2$-periodične. $x = \frac{1}{2}$ je stabilna.
\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb5.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
    \end{figure}    
\end{opomba}

\begin{definicija}
Fiksne točke, ki so stabilne in šibko privlačne pravimo \textbf{asimptotsko stabilne}.
\end{definicija}

\begin{opomba}
Ni vsaka šibko privlačna točka (asimptotsko) stabilna. Orbita lahko "uide"
iz okolice in se nato vrne. So pa use privlačne točke tudi asimptotsko stabilne.
\end{opomba}

Sedaj lahko to klasifikacijo razširimo na $n$-periodične točke, če nanje pogledamo kot na fiksne točke funkcije $f^n$.
\begin{definicija}
Periodična točka $x_0 \in I$ oz. pripadajoči $n$-cikel je:
\begin{itemize}
\item Šibko privlačna\slash odbojna, če je šibko privlačna\slash odbojna kot fiksna točka funkcije $f^n$.
\item Privlačna\slash odbojna\slash nevtralna, če je privlačna\slash odbojna\slash nevtralna kot fiksna točka funkcije $f^n$. 
\end{itemize}
\end{definicija}
Da bosta ti definiciji dobri, v prvi točki potrebujemo zveznost, v drugi pa zvezno odvedljivost funkcije $f$. To združi nasledji izrek.
\begin{izrek}
Če je $f\in C^1(I)$, so vse periodične točke $n$-cikla "istega tipa".
\end{izrek}

\begin{proof}[Dokaz:]
Naj bo $\{x_1, \dots, x_n\}$ $n$-cikel za $f$. Recimo, da je $x_n$ šibko privlačna 
za $f^n$. Torej obstaja njena okolica $U_n \subset I$, da za 
$x\in U_n$ velja $f^{nk}(x) \rightarrow x_n$ za $k\rightarrow \infty$. 
Radi bi videli, da analogne okolice obstajajo za točke 
$x_1, \dots, x_{n-1}$. Sedaj definiramo $U_{n-j}$ za $1 \leq j \leq n-1$, 
kot povezano komponento praslike $f^{-j}(U_n)$, ki vsenuje $x_{n-j}$. Vemo,
da za vsak $x\in U_{n-j}$ po konstrukciji velja:
$$
f^{nk + j}(x) \xrightarrow{k\rightarrow \infty} x_n.
$$
Sedaj na to zvezo dodamo zvezno funkcijo $f^{n-j}$
\begin{align*}
f^{n-j}(f^{nk + j}(x)) \rightarrow f^{n-j}(x_n) \\ 
f^{n(k+1)}(x) \xrightarrow{k\rightarrow \infty} x_{n-j} 
\end{align*}
vse točke so šibko privlačne, kar smo želeli dokazati. Dokaz za šibko odbojnost izpustimo.\\[3mm]
Poglejmo si še privlačnosti\slash odbojnost \slash nevtralnost
\begin{align*}
|(f^n)'(x_n)| &= |(f \circ f \circ \dots \circ f)'(x_n)| = \\ 
&= |f'(f^{n-1}(x_n)) \cdot f'(f^{n-2}(x_n)) \cdot \dots f'(x_n)| = \\ 
&= |f'(x_{n-1})| \cdot |f'(x_{n-2})| \cdot \dots |f'(x_1)| \cdot |f'(x_0)| = |(f^n)'(x_j)|.
\end{align*}
za vsak $x_j$ dobimo isti rezultat.
\end{proof}

\begin{opomba}
Brez zveznosti $f$ izrek ne drži nujno, npr.
\begin{centering}
\begin{tikzpicture}[scale=1]

    % First line (maps to 1, then to 0)
    % Left interval (shorter but aligned)
    \draw[thick] (-3.5,1.5) -- (-2.5,1.5);
    \draw[red, thick] (-3.5,1.5) -- (-2.5,1.5);
    
    % epsilon points and zero point
    \filldraw[red] (-3.5,1.5) circle (2pt) node[below=4pt] {$-\varepsilon$};
    \filldraw[red] (-2.5,1.5) circle (2pt) node[below=4pt] {$\varepsilon$};
    \filldraw[red] (-3,1.5) circle (2pt) node[below=4pt] {$0$};
    
    % Short arrow to 1 with more space
    \draw[->, thick] (-2.3,1.5) -- (-1.7,1.5);
    \node[above] at (-2,1.5) {$f$};
    
    % Longer interval at 1 with more space from the arrow
    \draw[thick] (-1.5,1.5) -- (-0.5,1.5);
    \filldraw[red] (-1,1.5) circle (2pt) node[below=4pt] {$1$};
    
    % Short arrow to 0 with more space
    \draw[->, thick] (-0.4,1.5) -- (0.2,1.5);
    \node[above] at (-0.1,1.5) {$f$};
    
    % Longer interval at 0 with more space from the arrow
    \draw[thick] (0.4,1.5) -- (1.4,1.5);
    \filldraw[red] (0.9,1.5) circle (2pt) node[below=4pt] {$0$};
    
    % Comment
    \node[right] at (1.6,1.5) {$\Rightarrow f^2$ šibko privlačna za $x=0$.};
    
    % Second line (maps to 2, then to 3)
    % Left interval (shorter but aligned)
    \draw[thick] (-3.5,0.5) -- (-2.5,0.5);
    \draw[red, thick] (-3.5,0.5) -- (-2.5,0.5);
    
    % epsilon points and zero point
    \filldraw[red] (-3.5,0.5) circle (2pt) node[below=4pt] {$-\varepsilon$};
    \filldraw[red] (-2.5,0.5) circle (2pt) node[below=4pt] {$\varepsilon$};
    \filldraw[red] (-3,0.5) circle (2pt) node[below=4pt] {$0$};
    
    % Short arrow to 2 with more space
    \draw[->, thick] (-2.3,0.5) -- (-1.7,0.5);
    \node[above] at (-2,0.5) {$f$};
    
    % Longer interval at 2 with more space from the arrow
    \draw[thick] (-1.5,0.5) -- (-0.5,0.5);
    \filldraw[red] (-1,0.5) circle (2pt) node[below=4pt] {$2$};
    
    % Short arrow to 3 with more space
    \draw[->, thick] (-0.4,0.5) -- (0.2,0.5);
    \node[above] at (-0.1,0.5) {$f$};
    
    % Longer interval at 3 with more space from the arrow
    \draw[thick] (0.4,0.5) -- (1.4,0.5);
    \filldraw[red] (0.9,0.5) circle (2pt) node[below=4pt] {$3$};
    
    % Comment
    \node[right] at (1.6,0.5) {$\Rightarrow f^2$ šibko odbojna za $x=n$.};
    
\end{tikzpicture}
\end{centering}
\end{opomba}

\newpage

\begin{primer}
Dano imamo $f(x) = x^2 - 1$. Opazimo $f(0) = -1$ in $f(-1) = 0$ tj. imamo $2$-cikel. Poglejmo, katarega tipa je:
$$
(f^2)'(0) = f'(f(0)) \cdot f'(0) = f'(-1)\cdot f'(0) = 0.
$$
Torej gre za privlačen $2$-cikel. Fiksni točki sta $x = \frac{1 \pm \sqrt{5}}{2}$
$\Longrightarrow$ $f'\Big(\frac{1 \pm \sqrt{5}}{2}\Big) = 1 \pm \sqrt{5}$, torej 
sta obe odbojni.
\begin{figure}[h!]
    \begin{centering}
        
    \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb6.png}
    %\caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
\end{figure}    
\noindent
Vidimo, da $2$-cikel "privlači" bližnje orbite. To velja tudiv primeru 
šibke privlačnosti. Naj bosta $U_1$ in $U_2$ okolici točke $x_1$ in $x_2$,
ki pripadata $2$-ciklu. Vzamemo $\tilde{U}_1 = U_1\cap f^{-1}(U_2)$ in 
$\tilde{U}_2 = U_1\cap f^{-1}(U_1)$. Potem velja:
\begin{align*}
x\in \tilde{U}_1 \Longrightarrow f^{2n}(x) \rightarrow x_1 \,\,(\text{ker } x\in U_1)\,\, \text{ in }\,\, f^{2n+1}(x) \rightarrow x_2 \,\,(\text{ker } f(x)\in U_2)\\
x\in \tilde{U}_2 \Longrightarrow f^{2n}(x) \rightarrow x_2 \,\,(\text{ker } x\in U_2)\,\, \text{ in }\,\, f^{2n+1}(x) \rightarrow x_1 \,\,(\text{ker } f(x)\in U_1)
\end{align*}


\begin{opomba}
Zanimiva je tudi točka $x = 1$, ki ima orbito $O_f(1) = \{1, 0, -1, 0, -1, \dots\}$ 
tj. po prvi iteraciji postane ciklična. Takim točkam pravimo \textbf{predperiodična} 
(preperiodic \slash eventually periodic) točka.
\end{opomba}
\end{primer}

\begin{definicija}
$\exists k\in \N$: $f^{n+k}(x) = f^k(x)$ za  najmanjši tak $n\in \N$.
\end{definicija}

\section{Kaos}
Do sedaj smo spoznali le dinamične sisteme z razmeroma predvidljivim dogajanjem. Konkretno, razen v kakšni posebni točki, so imele orbite bližnjih točk "enak dinamičen razvoj". Sedaj bomo spoznali sisteme, ki so nasprotje tega in jim pravimo kaotični. 

\begin{definicija}[Devaney]
Dinamični sistem podan z $f:I \rightarrow I$ je \textbf{kaotičen}, če zanj veljajo
\item[(c1)] Množica periodičnih točk je gosta v $I$.
\item[(c2)] Tranzitivnost: za poljubna odprta intervala $U_1, U_2 \subset I$, obstajata $x_0\in U_1$ in $n\in \N$, da je $f^n(x_0) \in U_2$.
\item[(c3)] Občutljivostna konstanta: obstaja $\beta > 0$, da v poljubni okolici $U$ poljubne točke $x_0$ najdemo tudi točko $y_0 \in U$ za katero je $|f^n(x_0) - f^n(y_0)| > \beta$ za nek $n\in \N$.
\end{definicija}

\begin{opomba}
\hfill 
\begin{itemize}
\item Točka $(c3)$ je zanimiva pri izbiri majhnih okolic $U$, saj pomeni, da lahko poljubno blizu najdeš točko s čisto drugačno dinamiko. Temu se reče učinek metulja (butterly effect) tj. zaporedje oz. orbita je občutljiva na začetne podatke.
\item Izkaže se, da je $(c2)$ ekvivalentna obstoju goste orbite, če je $f$ zvezna. Če ni zvezna je pogoj zadosten.
\item Za kompakt $I \subset I$ se izkaže, da $(c1)$ in $(c2)$ implicirata $(c3)$.
\item Če je $f$ zvezna iz $(c1)$ in $(c2)$ vedno sledi $(c3)$.
\end{itemize}
\end{opomba}
\noindent
Opis kaosa: kaotični sistem je tak, v katerem s približnim začetkom niti približno nemoreš napovedati konca.

\begin{primer}
Podvojitvena preslikava (doubling map).
\begin{align*}
D:[0, 1) \rightarrow [0, 1) \\ 
D(x) = 2x - \lfloor{2x}\rfloor
\end{align*}
\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb7.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
\end{figure}   
\noindent
Velja: \\ 
$D(0) = 0$ je fiksna točka \\ 
$D(\frac{1}{2}) = 0$ predperiodična \\ 
$D(\frac{1}{3}) = \frac{2}{3}$, $D(\frac{2}{3}) = \frac{1}{3}$ 2-cikel.\\
Za dokaz kaotičnosti uporabimo dvojiški decimalni zapis.
\begin{align*}
x\in [0, 1): x = 0.x_1 x_2 \dots_{(2)} = \sum_{j=1}^\infty \frac{x_j}{2^j}, \quad x_j\in \{0, 1\}
\end{align*}
Če prepovemo neskočen niz enic, je zapis enoličen. Kaj naredi naša preslikava?
\begin{align*}
D(x) = 2x - \lfloor 2x \rfloor = x_1.x_2 x_3 \dots_{(2)} - {x_1}_{(2)} = 0.x_2 x_3 \dots_{(2)}.
\end{align*}
Temu rečemo tudi operator zamika (shift map), ki "pozabi" prvo decimalko. 
\begin{enumerate}
\item[(c1)] Pokažimo, da imamo poljubno blizu točke $x\in [0, 1)$ tudi periodično točko $\tilde{x}$.
\begin{align*}
x &= 0.x_1 x_2 \dots x_N x_{N+1} \dots_{(2)} \quad N >> 1 \\ 
\tilde{x} &= 0.\overline{x_1 x_2 \dots x_N}_{(2)}\\
\Longrightarrow& |x - \tilde{x}| = 0.0\dots 0x_{N+1}\dots_{(2)} < \frac{1}{2^N}
\end{align*}
Očitno je $\tilde{x}$ periodičen, saj je $f^N(\tilde{x}) = \tilde{x}$. Po drugo strani pa je $|x - \tilde{x}| < \frac{1}{2^N}$ tj. poljubno majhna.
\item[c2)] Pokažimo, da obstaja gosta orbita. Naj bo $x\in [0, 1]$ število z razvojem
$$
x = 0.01\, 00\, 01\, 10\, 11\, 000\, 001\, 010\, \dots
$$
tj. število vsebuje vse končne zapise v dvojiškem sistemu. Trdimo, da je 
za vsak $x\in [0, 1]$ blizu nek $D^m(\tilde{x})$. 
$$
x = 0.x_1 x_2\dots x_N x_{N+1}\dots, \quad \text{ za } N>>1.
$$
Obstaja tak $m\in \N: f^m(x) = 0.x_1 x_2 \dots x_N y_{N+1}$ tj. $|f^m(\tilde{x}) - x| < \frac{1}{2^N}$.
\item[c3)] Želimo videti, da poljubno blizu $x\in [0, 1]$ obstaja $\tilde{x} \in [0, 1]$, da je za nek $m\in \N$: $|f^m(x) - f^m(\tilde{x}) \geq \frac{1}{2}$. 
Vzamemo
$$
x = 0.x_1 x_2 \dots x_N x_{N+1} \dots_{(2)}
$$
in
$$
\tilde{x} = 0.\tilde{x}_1 \tilde{x}_2\dots \tilde{x}_N \tilde{x}_{N+1} \dots_{(2)}
$$
Naj velja $\tilde{x}_{N+1} \neq x_{N+1}$
Potem je 
$$
|f^N(x) - f^N(\tilde{x})| = |0.x_{N+1}x_{N+2}\dots  - 0.\tilde{x}_{N+1} \tilde{x}_{N+2}\dots| \geq \frac{1}{2}.
$$
Dobimo števili, ki sta $\frac{1}{2^N}$ blizu in po $n$-iteracijah $\frac{1}{2}$ narazen.
\end{enumerate}
\end{primer}
\newpage
\begin{primer}
Šotorasta preslikava(Tent map)
$$
T(x)= \begin{cases}2 x ; & x \in\left[0, \frac{1}{2}\right] \\ 2-2 x ; & x \in\left(\frac{1}{2}, 1\right]\end{cases} =2\min\{x, 1 - x\} 
$$
\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb8.png}
    %\caption{paj čevinast diagram iz Primera 3.}
    \end{centering}
\end{figure}   

Drugi iterat: 
$$T^2(x) = \min\{T(x), 1 - T(x)\}$$

\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb9.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
\end{figure} 
\newpage
Podobno dobimo $T^3$ in višje iterate 

\begin{figure}[h!]
    \begin{centering}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb10.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{centering}
\end{figure} 


Definiramo intervale 
$$
I_{j, n} \coloneqq \Big[\frac{j-1}{2^n}, \frac{j}{2^n}\Big], \quad j = \{1, 2, \dots, 2^n\}.
$$

\begin{enumerate}
\item[c1)] Je izpolnjen, saj ima periodično točko na vsakem intervalu oblike $I_{k, j}$.
Perioda teh točk je $n$ ali manjša.
\item[ii)] Sledi, ker je $f^n(I_{j,n}) = [0, 1]$, tj.
za $U_1$ obstaja $I_{j, n} \subset U_1$, bo $T(I_{j, n}) \cap U_2 \neq \emptyset$ za poljubni odprti $U_1, U_2 \subset [0, 1]$.
\item[c3)] Samo ideja: za vsak $x\in [0, 1]$, poiščemo $j, k$ in $\tilde{x} \in I_{j, n}$, 
da bo $T^k(x) - T^k(\tilde{x})| \geq \frac{1}{2}$.
\end{enumerate}
\end{primer}

\section{Konjugacije in semi-konjugacije}

\begin{definicija}
Pravimo, da sta $f: I \rightarrow I$ in $g: J \rightarrow J$ \textbf{konjugirani}, če obstaja homeomorfizem $h:I \rightarrow J$, da $\forall x\in I$: $h \circ f(x) = g\circ h(x) $
\end{definicija}
Imamo komutirajoči diagram za dano definicijo
\begin{centering}
\begin{tikzcd}
	I && I \\
	\\
	J && J
	\arrow["f", from=1-1, to=1-3]
	\arrow["h"', from=1-1, to=3-1]
	\arrow["h"', from=1-3, to=3-3]
	\arrow["g", from=3-1, to=3-3]
\end{tikzcd}
\end{centering}

Iz definicije sledi, da je $h(O_f(x)) = O_g(h(x))$ za vsak $x\in I$. Z drugimi 
besedami orbite $f$ se slikajo v orbite $h$ za $g$. To vodimo iz naslednjega razmisleka: 
ker je $h$ obrljiva in $h^{-1}$ zvezna, se zvezno traslira celotna dinamika tj.
\begin{align*}
f &= h^{-1} \circ g \circ h \Longrightarrow\\ 
f^n &= (h^{-1} \circ g \circ h) \circ (h^{-1} \circ g \circ h) \circ \dots \circ (h^{-1} \circ g \circ h) = \\ 
&= h^{-1} \circ g^n \circ h
\end{align*}

\begin{primer}
\begin{align*}
&g(x) = x^2 \text{ na } [0, \infty) \\ 
&f(x) = x^2 - 2x + 2 \text{ na } [1, \infty) \\ 
&h(x) = x - 1 \text{ kot preslikava } h:[1, \infty) \rightarrow [0, \infty).
\end{align*}
Preverimo pogoj iz definicije 
\begin{align*}
h\circ f(x) &= h(x^2 - 2x + 2) = x^2 -2x + 2 - 1 = x^2 - 2x - 1 = \\ 
&=(x-1)^2 = g(x-1) = g\circ h(x)  
\end{align*}

\begin{center}
    \begin{figure}[h]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Grafi/cobweb11.png}
            \caption{$g(x) = x^2$}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Grafi/cobweb12.png}
            \caption{$f(x) = x^2 - 2x + 2$}
        \end{subfigure}
        %\caption{Two images displayed side by side}
    \end{figure}
    
\end{center}
\end{primer}

\begin{opomba}
    \hfill
\begin{itemize}
\item V splošnem velja, da je vsaka kvadratna funkcija $f(x) = Ax^2+ Bx + C$, $A \neq 0$ konjugirana $p_c(x) = x^2 + c$, $c\in \R$.
\item Vidimo, da se je v primeru ohranil tudi karakter fiksnih točk. To ne preseneča oz. še več, če sta $h$ in $h^{-1}$ tudi odvedljivi, velja:
\begin{align*}
f'(x) &= (h^{-1} \circ g \circ h)(x) = (h^{-1}) (g(h(x))) \cdot g'(h(x)) \cdot h'(x) = \\ 
&= \frac{1}{h'(h^{-1} (g(h(x))))} \cdot g'(h(x))\cdot h'(x) = g'(h(x)),
\end{align*}
kjer smo uporabili dejstvo, da je $g(h(x)) = h(x)$ za fiksno točko $x$.
Torej se tip fiksne točke ograni. Podobno velja za periodične točke.
\end{itemize}
\end{opomba}

\begin{definicija}
Pravimo, da je $g: J \rightarrow J$ \textbf{semi-konjugirana} funkciji $f: I \rightarrow I$, če obstaja zvezna surjektivna preslikava $h:I \rightarrow J$, za katero velja:
\begin{enumerate}
\item[i)] $\forall x\in I$: $h\circ f(x) = g\circ h(x)$
\item[ii)] $\exists m\in \N.\, \forall x\in J$ ima $h^{-1}(x)$ največ $m$ elementov.
\end{enumerate}
\end{definicija}


\begin{center}
    \begin{tikzpicture}[node distance=3cm, auto]
        % Nodes
        \node (S1) [right=4mm]{\Large $\mathcal{S}$};
        \node (I1) [right of=S1] {};
        \node (Z1) [below=15mm of S1] {};
        \node (S2) [right=50mm of S1] {\Large $\mathcal{S}$};
        \node (I2) [right of=S2] {};
        \node (Z2) [below=15mm of S2] {};
        
        \draw[thick][<->] (0,-2) -- (1.4,-2);
        \draw[thick][<->] (5.7,-2) -- (7.1,-2);  
        
        \draw[thick][->] (2.5,1) -- (4.5,1);
        \fill (3.5,1.7) node[below] {\Large$f$};

        \draw[thick][->] (2.5,-2) -- (4.5,-2);
        \fill (3.5,-1.3) node[below] {\Large$g$};

        \fill[orange] (0.7,-2) circle (1.8pt);
        \fill (0.7,-2.2) node[below] {$h(x)$};

        \fill[orange] (6.1,-2) circle (1.8pt);
        \fill (6.7,-2.2) node[below] {$g(h(x)) = h(f(x))$};

        \fill (7,1.7) node[below] {\Large $I$};
        \fill (1.5,1.7) node[below] {\Large $I$};

        \fill (7,-1.3) node[below] {\Large $J$};
        \fill (1.5,-1.3) node[below] {\Large $J$};

        % Arrows
        \draw[->] (S1) -- node[left] {\Large $h$} (Z1);
        %\draw[->] (I1) -- node[above] {\Large $F$} (I2);
        \draw[->] (S2) -- node[left] {\Large $h$} (Z2);
        %\draw[->] (Z1) -- node[below] {\Large $g$} (Z2);
    
    \draw[thick] plot [smooth, tension=1] coordinates 
        {(-0.4,1.7) (0.4,2.2) (1.2,2) (0.4,1.2) (1.2,1) (0.4,0.4) (-0.4,0.6)};
        
    \draw[thick] plot [smooth, tension=1] coordinates 
        {(5,1.7) (5.8,2.2) (6.6,2) (5.8,1.2) (6.6,1) (5.8,0.4) (5,0.6)};
    
    % Orange Points
    \foreach \x in {(0.7,2.23), (0.7,1.53), (0.7,1.117), (0.7,0.5)}
        \fill[orange] \x circle (1.8pt);
    
    \foreach \x in {(6.1,2.23), (6.1,1.53), (6.1,1.117), (6.1,0.5)}
        \fill[orange] \x circle (1.8pt);
        
    \end{tikzpicture}
    \end{center}

\begin{opomba}
\hfill
\begin{itemize}
    \item Definicija semi-konjugacije lahko varira glede na literaturo.
    \item Znova velja 
    $$
    h(O_f(x)) = O_g(h(x))
    $$
    vendar pa ta relacija ni več bijektivna.
\end{itemize}
\end{opomba}

\begin{primer}
Dane imamo naslednje preslikave 
\begin{figure}[h]
    \centering
    % First figure
    \begin{subfigure}[b]{0.32\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb131.png}
        \caption{\\$h:[-1, 1] \rightarrow [0, 1] $\\\quad $x \mapsto x^2$}
        \label{fig:cobweb31}
    \end{subfigure}
    % Second figure
    \begin{subfigure}[b]{0.32\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb132.png}
        \caption{\\$f:[-1, 1] \rightarrow [-1, 1]$ \\ $x\mapsto \sqrt{1 - x^2}$}
        \label{fig:cobweb32}
    \end{subfigure}
    % Third figure
    \begin{subfigure}[b]{0.32\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb133.png}
        \caption{\\$g:[0,1] \rightarrow [0, 1]$\\ $x\mapsto 1 - x$}
        \label{fig:cobweb33}
    \end{subfigure}
\end{figure}


$$
h\circ f(x) = g(\sqrt{1 - x^2}) = (\sqrt{1 - x^2})^2 = 1 - x^2 = g(x^2) = g\circ h(x).
$$
Sebi-konjugacija ne ohranja dinamike popolno. V našem primeru je priklopila predperiodične točke, periodičnim.
\end{primer}

\begin{trditev}
Naj bo $g$ semi-konjugirana $f$ preko $h:I \rightarrow J$. Če je $x_0 \in I$ periodična za $f$, je tudi $h(x_0)$ periodična za $g$, a se perioda ne ohranja nujno.
\end{trditev}

\begin{proof}[Dokaz:]
Naj bo $f^n(x_0) = x_0$ in $n\in \N$ najmanjše tako število. Potem velja
\begin{align*}
g^n(h(x_0)) &= g^{n-1}\circ (g\circ h)(x_0) = g^{n-1}\circ (h\circ f)(x_0) = 
\dots = h\circ f^n(x_0) = h(x_0).
\end{align*}
\end{proof}

\begin{opomba}
\hfill
\begin{itemize}
\item Problem je, da nemoremo zagotoviti minimalnosti $n$ za $g$. Recimo, da ima 
$f$ $2$-cikel $\{0, 1\}$, $g$ pa fiksno točko $0$. Če vzamemo $h(0) = h(1) = 0$, bo 
veljalo $h\circ f(0) = 0 = g\circ h(0)$, a ne bosta isti periodi.
\item V splošnem velja, da je perioda delitelj števila $n$.
\end{itemize}
\end{opomba}

\begin{izrek}
Naj bo $g$ semi-konjugirana $f$ s $h: I \rightarrow J$ in naj bosta $I, J \subset \R$ kompaktna intervala in naj bo $f$ kaotičen. Potem je $g$ kaotična, če je izpolnjen eden od treh pogojev:
\begin{enumerate}
\item[i)] $h$ je injektivna
\item[ii)] $g$ je zvezna
\item[iii)] $f$ je zvezna
\end{enumerate}
\end{izrek}

\begin{proof}[Dokaz:]
    ~\\
    \begin{enumerate}
        \item[c1)] Sledi iz trditve. Če vzamemo poljubno $U \subset J$ odprto, je tudi $h^{-1}(U) \subset I$ odprta in vsebuje periodično točko $x_0$. Torej je $h(x_0)$ periodična in v $U$. \\
    \begin{center}
        \begin{tikzpicture}
            % Wavy function f
            \draw[thick, blue] plot [smooth, tension=1] coordinates 
            {(0,3) (0.5,3.5) (1,3) (1.5,2.5) (2,3) (2.5,3.5) (3,3) (3.5,2.5) (4,3)};
            
            % Dashed red line following f
            \draw[red, dashed] plot [smooth, tension=1] coordinates 
            {(0,3) (0.5,3.5) (1,3) (1.5,2.5) (2,3) (2.5,3.5) (3,3) (3.5,2.5) (4,3)};
            
            % Label for f
            \node[left] at (0,3) {\Large $f$};
            
            % Straight function g
            \draw[thick, blue] (0,0) -- (4,0);
            \draw[red, dashed] (0,0) -- (4,0);
            
            % Label for g
            \node[left] at (0,0) {\Large $g$};
            
            % Arrow from f to g
            \draw[thick, ->] (2,2.5) -- (2,0.5) node[midway, right] {\Large $h$};
              
        \end{tikzpicture}
     \end{center}
\item[c2)] Če je $O_f(x)$ gosta, je taka tudi $O_g(h(x))$.
\item[c3)] 
\begin{enumerate}
    \item[i)] $h$ je injektivna: 
poglejmo si preslikavo $d: I\times I \rightarrow \R$, podano s predpisom $d(x, y) = |h(x) - h(y)|$. 
Gre za zvezno preslikavo iz kompakta v $\R$. Poglejmo si množico
$$
\Delta_\beta = \{(x, y)\in I\times I \,|\, |x-y| \geq \beta\}.
$$
Ker je $\Delta_\beta$ zaprta in podmnožica $I\times I$ je omejena, torej je kompaktna.
Zato je $I\times I - \Delta_\beta$ kompaktna. Ker je $d$ zvezna, slika $d(I\times I - \Delta_\beta)$
kompaktna. Obstaja $\beta' > 0$: če $|x - y|> \beta$, potem $|h(x) - h(y)| > \beta'$.
Potem iz pogoja $|f^n(x) - f^n(y)| > \beta$ sledi $|g^n(h(x)) - g^n(h(y))| > \beta'$. To je občutljivostna konstanta za $g$.
\item[ii)] $g$ je zvezna: ker je $g$ zvezna pogoj $c3)$ sledi iz $(c1)$ in $(c2)$.
\item[iii)] $f$ je zvezna (ideja): zaradi konjugacije obstaja osprta $U \subset J$, ki ima 
do $m$ praslik. Zaradi kompaktnosti, zveznosti $h$ in lokalne obrljivosti, obstaja 
$\delta > 0$, da iz diam$(U) < \delta$ sledi, da imajo praslike diam$(g^n(U)) < \delta$
za vse $n\in \N_0$. Zaradi zveznosti se praslike $g^n(U)$ slikajo v $g^{nm}(U)$. 
Torej obstaja praslika $V$ od $U$, da je diam$(f^n(V))< \beta$ za vse $n\in \N_0$, 
kar je protislovje. 
\end{enumerate}
\end{enumerate}
\end{proof}

\begin{opomba}
Zakaj je pomembna kompaktnost intervalov $I$ in $J$? Poglejmo si preslikavi 
\begin{align*}
&f(x) = 2x \text{ na } (0, \infty) \\ 
&g(x) = x + \ln 2 \text{ na } \R.
\end{align*}
Očitno je, da je $f$ izpolnjuje $(c3)$, saj sta za velik $n$ števili $2^n x$ in $2^n y$ daleč narazen, če $x\neq y$. Po drugi strani, je tudi očitno, da $g$ ne izpolnjuje $(c3)$, saj je razlika 
$$
|g^n(x) - g^n(y)| = |x + n\ln(2) - (y + n\ln(2))| = |x-y|
$$
konstantna za vse $n\in \N$. Sta pa vseno $f$ in $g$ konjugirani preko $h(x) = \ln(x)$.
$$
g(x) = h\circ f\circ h^{-1}(x) = \ln(2e^x) = \ln(e^x) + \ln(2) = x + \ln(2).
$$.
\end{opomba}

\begin{primer}
Poglejmo si sedaj primere semi-konjugacije na Podvojitveni in šotorasti preslikavi. 
\begin{align*}
&D(x) = 2x - \lfloor 2x \rfloor \\ 
&T(x) = 2\min\{x, 1-x\}
\end{align*}
Imamo 
$$T(D(x)) = 2\min\{D(x), 1 - D(x)\} = T(T(x))$$.
To pomeni, da je $T$ semi-konjugirana $D$ za $h = T$. Posledično kaotičnost 
$T$ sledi.
\end{primer}

\begin{primer}
Imamo preslikavo
\begin{align*}
&h: [0, 1) \rightarrow S^1 \subset \R^2 \\ 
&h(x) = (\cos{2\pi x}, \sin{2\pi x})
\end{align*}
Zanima nas, kaj se zgodi z doubling map, če uporabimo to konjugacijo oz. trdimo, da bo konjugirana preslikava 
\begin{center}
    \begin{tikzpicture}
    
        % Interval representation
        \draw[thick] (0,2) -- (4,2);
        \filldraw (0,2) circle (1.5pt) node[below] {0};
        \filldraw (4,2) circle (1.5pt) node[below] {1};
        \filldraw (2,2) circle (1.5pt) node[below] {$\frac{1}{2}$};
    
        \draw[->,red,thick] (0,2) -- (2,2);
        \draw[->,orange,thick] (2,2) -- (4,2);
    
        % Mapping downwards
        \draw[->] (2,0.5) -- (2,-1) node[midway,right] {$D$};
    
        % Mapped interval
        %\draw[thick] (0,0) -- (4,0);
        %\filldraw (0,0) circle (1.5pt);
        %\filldraw (4,0) circle (1.5pt);
    
        \draw[->,red,thick] (0,-2) -- (2,-2);
        \draw[->,orange,thick] (2,-2) -- (4,-2);
    
        % Arrow indicating a function
        \draw[->] (5.5,1.8) -- (7.5,1.8) node[midway,above] {$h$};
        \draw[->] (5.5,-2) -- (7.5,-2) node[midway,above] {$h$};
    

        % Circles
        \draw[thick] (10,2) circle (1pt);
        \draw[->,red,thick] (10+1,2) arc (0:180:1);
        \draw[->,orange,thick] (10-1,2) arc (180:360:1);
    
        \draw[->] (10,0.5) -- (10,-0.5) node[midway,right] {$f$};
    
        \draw[thick] (10,-2) circle (1pt);
        \draw[->,red,thick] (10+1,-2) arc (0:180:1);
        \draw[->,orange,thick] (10-1,-2) arc (180:360:1);
    
    \end{tikzpicture}
\end{center}

Sklep: $D$ je konjugirana $f: S^1 \rightarrow S^1$, $f(\cos{t}, \sin{t}) = (\cos{2t}, \sin{2t})$
za $t\in [0, 2\pi]$ tj. preslikavi ki podvoji argument. V kompleksni notacijo bi j
o zapisali z $e^{it} \mapsto e^{2it}$ ali $z \mapsto z^2$. Posledično je tudi $f$
kaotična.
\end{primer}

\begin{primer}
Pokažimo, da je $q_{-2}(x) = x^2 - 2$ kaotična. To bo sledilo iz dejstva, da je 
semi-konjugirana preslikavi podvojitev argumenta, preko semi-konjugacije $h$ 
\begin{align*}
h: S^1 \rightarrow [-2, 2] \\ 
(x, y) \mapsto 2x 
\end{align*}
Ta preslikava ima v vsaki točki $y\in [-2, 2]$ največ $2$ prasliki, je zvezna in 
surjektivna. Preverimo, da komutirata $g$ in $q_{-2}$:
\begin{align*}
h\circ g(\cos{2t}, \sin{2t}) &= 2\cos{2t} = 2\cos^2{t} - 2\sin^2{t} = 4\cos^2{t} - 2\\
q_{-2}\circ h(\cos{t}, \sin{t}) &= q_{-2}(2\cos{t}) = 4\cos^2{t} - 2 = 4\cos^2{t} - 2
\end{align*}
Sklep: $q_{-2}$ je semi-konjugirana $D$. Direktna preslikava bi bila 
$$
h(x) = 2\cos(2\pi x).
$$
Ker je $q_{-2}$ zvezna, po prejšnjem izreku je tudi kaotična.
\end{primer}

\section{Bifurkacije}

Za motivacijo si oglejmo enoparametrično družino šotorskih preslikav za $c\in [0, 2]$:
$$
T_c(x) = \frac{c}{2}\cdot \min\{x, 1-x\} = \frac{c}{2} T(x).
$$
Vse te preslikave interval $[0, 1]$ slikajo vase, dinamike pa se za različne vrednosti malce razlikujejo
\newpage
\begin{itemize}
\item če je $c < 1$: 
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb141.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure} 

$x_0$ je edina periodična točka, gre pa za privlačno fiksno točko, saj je $T_c'(0) = c < 1$.
\item če je $c = 1$: 
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb142.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}
\newpage
\item če je $c\in (1, 2]$: 
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb143.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}

pojavi se dodatna fiksna točka 
$$
c - cx = x \iff x = \frac{c}{1 + c}.
$$
Ta točka je odbojna , saj je na $(\frac{1}{2}, 1]$ odvod $T_c'(x) = -c < -1$. 
Opazimo, da je $x = 0$ postala odbojna točka, saj $T_c'(0) = c > 1$.
\end{itemize}
\noindent
Opazka: ob prehodu čez $c=1$ je prišlo do kvalitativne spremembe dinamike, saj 
smo iz ene dobili dve fiksni točki.

\noindent
Poglejmo si kaj se dogaja z $2$-cikli oz. $T_c^2$:
$$
T_c^2(x) = c\cdot \min\{ T_c(x), 1 - T_c(x)\}
$$
Za $c < 1$ nimamo presečišč z $y = x$ zato se omejimo na $c \geq 1$. Za $c=1$
so vsa presečišča fiksne točke. Ob prehodu čez $c = 1$ pa iz točke $x = \frac{1}{2}$
dobimo dve $2$-periodični točki.
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=4.6cm]{Grafi/cobweb15.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}
\noindent
\newpage
Za $T_c^3$ postane obnašanje še bolj zanimivo 
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb16.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}
Izkaže se, da pri $c = \frac{1 + \sqrt{5}}{2}$ sekamo $T^3$ natanko $5$-krat 
($3$-cikel $+$ $2$ fiksni točki). Pri večjih je presečišč $8$ (dva $3$-cikla) 
pri manjših pa $2$. Kasneje bomo dokazali, da se ob $3$-ciklu pojavijo še vse 
ostale periode.
Točkam, pri katerih se zgodi "kvalitativna sprememba" dinamike, pravimo bifurkacije.
\newline
Formalno:

Obravnavamo družino zveznih funkcij $f_c: I \rightarrow I \subset \R$, 
za parametr $c\in J \subset \R$. Ta družina je $C^k$-odvisna od $c$, če 
$k$-ti parcialni odvodi $F(x, c) \coloneqq f_c(x)$ obstajajo
$\frac{\partial^k}{\partial c^k} F(x, c)$ in so zvezni, za $k\in \N_0$. 
Na primer $T_c(x) = \frac{c}{2} T(x)$ je taka, čeprav ni odvedljiva po $x$ v 
$x = \frac{1}{2}$ in velja
\begin{align*}
&\frac{\partial}{\partial c} T_c(x) = \frac{1}{2} T(x) \\ 
&\frac{\partial^k}{\partial c^k} T_c(x) = 0, \,\, k \geq 2.
\end{align*}

\begin{definicija}
Vrednosti $c\in J$ pravimo \textbf{bifurkacija} družine $f_c$, če se dinamika 
ob prehodu čez njo kvalitativno spremeni.
\end{definicija}

Pri motivaciji smo opazili različne tipe bifurkacij:
\begin{itemize}
\item Fiksna točka se je pojavila in izginila (npr. $x = \frac{1}{4}$ pri $c=1$).
\item Fiksna točka se je pojavila in nato podvojila (za $c = \frac{1 + \sqrt{5}}{2}$ in poljubni fiksni točki)
\item Iz fiksne točke $x = \frac{1}{2}$, ki se pojavi pri $c = 1$, smo dobili fiksno točko drugega tipa in $2$-cikel.
\end{itemize}
Ključna opazka je, da so se spremembe zgodile, ko je odvod v fiksni točki $1$ ali pa ne obstaja.

\begin{izrek}
    \label{izrek:implicitna_preslikava}
Naj bo $f_c: I \rightarrow I$ družina zvezno odvedljivih funkcij, ki 
so gladko odvisne od parametra $c\in J$. Denimo, da za $x_0 \in I$ 
velja $f_{c_0}(x_0) = x_0$ in $f_{c_0}'(x_0) \neq 1$. Potem obstajata 
okolica $I' \subset I$ in $J' \subset J$, ter preslikava 
$p: J' \rightarrow I'$, da je $f_c(p(c)) = p(c)$, za katero je $p(c)$
 edina fiksna točka na $I'$ pri $c\in J'$. 
\end{izrek}

\begin{proof}[Dokaz:]
Uporabimo izrek o implicitni preslikavi za 
$$
F(x, c) = f_c(x) - x.
$$
Po predpostavki je:
\begin{align*}
F(x_0, c_0) = 0 \text{ in } \frac{\partial}{\partial x} F(x_0, c_0) = f_{c_0}'(x_0) - 1 \neq 0. 
\end{align*}
Torej lahko na majhni okolici $c_0 \in J$ izrazimo $x = p(c)$, ter velja $F(p(c), c) = 0$ oz. $f_c(p(c)) = p(c)$.
\end{proof}

\begin{opomba}
Izrek podaja le potreben, ne pa tudi zadosten pogoj.
\end{opomba}

\begin{posledica}
Privlačne in odbojne fiksne točke se pri majhnih motnjah ohranijo. Enako velja 
za točke, kjer je odvod $-1$. Pri nevtralnih točkah z odvodom $+1$ pa lahko pride 
do sprememb.
\end{posledica}

\begin{primer}[Tangentna bifurkacija]
Bifurkacija, v katerih iz nevtralne točke, ki zadošča $f_{c_0}'(x_0) = 1$, 
dobimo dve fiksni točki, ki jih prej ni bilo. Ena je privlačna, druga odbojna, 
zato se tudi imenuje saddle-node bifurcation. 
Opazujemo družino $g_c(x) = x^2 + c$. Dobimo 
\begin{itemize}
    \item za $c > \frac{1}{4}$ ni fiksnih točk 
    \item za $c = \frac{1}{4}$ se pojavi nevtralna točka 
    \item za $c < \frac{1}{4}$ se razcepi v privlačno in odbojno točko.
\end{itemize}
\end{primer}

\begin{primer}[Potrojitev fiksnih točk]
Imamo družino $f_c(x) = c\arctan{x}$ za $c\in [0, \infty]$.

\begin{figure}[h]
    \centering
    % First figure
    \begin{subfigure}[c]{0.28\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb171.png}
        \caption{\\$c<1$ privlačna}
        \label{fig:cobweb31}
    \end{subfigure}
    % Second figure
    \begin{subfigure}[c]{0.28\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb172.png}
        \caption{\\$c=1$ nevtralna in\\šibko privlačna}
        \label{fig:cobweb32}
    \end{subfigure}
    % Third figure
    \begin{subfigure}[c]{0.28\textwidth}
        \centering
        \includegraphics[width=\textwidth]{Grafi/cobweb173.png}
        \caption{\\$c>1$ odbojna in\\dve privlačni}
        \label{fig:cobweb33}
    \end{subfigure}
\end{figure}
\end{primer}

\begin{primer}[Podvojitev periode]
    Naj bo $f_{c_0}(x_0) = x_0$ in $f_{c_0}'(x_0) = -1$. Potem se po 
    izreku \ref{izrek:implicitna_preslikava} fiksna točka pri majhnih motnjah 
    ohrani, vendar pa velja:
    $$
    (f_{c_0}^2)'(x_0) = f'_{c_0}(f_{c_0}(x_0)) \cdot f'_{c_0}(x_0)= (f'_{c_0}(x_0))^2 = 1 .
    $$
    Torej se v tej točki lahko pojavi nov $2$-cikel.

    \begin{center}
        \begin{tikzpicture}[scale=1.2]
            % Axes for first plot
            \draw[->] (-1,0) -- (2,0);
            \draw[->] (0,-1) -- (0,2);
            
            % Function curve f_c (first plot)
            \draw[domain=0.7:1.7,smooth,variable=\x,blue,thick] plot ({\x},{1 + 2*(\x-1.1)^2});
            \draw[domain=0.3:1.4,smooth,variable=\x,green,thick] plot ({\x},{\x*\x - 2*\x + 2});
            
            % Line y = x
            \draw[orange, thick] (-0.5,-0.5) -- (2.5,2.5);
            %\node[orange] at (2.5,2.3) {y = x};
            
            % Fixed point
            \filldraw (1,1) circle (1pt);
            \node at (1,-0.2) {$x_0$};
            
            % Derivative label
            \node[blue] at (2.4,0.8) {$f_c^2(x_0) = -1$};
            %\node[orange] at (1.4,1.2) {FIKSNA TOČKA};
            
            % Second plot
            \begin{scope}[xshift=5cm]
                % Axes
                \draw[->] (-1,0) -- (2,0);
                \draw[->] (0,-1) -- (0,2);
        
                % Function f_c
                \draw[domain=-0.2:1.2,smooth,variable=\x,blue,thick] plot ({\x},{1.2*sin(2*(\x-1) r) + 1});
                
                % Line y = x
                \draw[orange, thick] (-0.5,-0.5) -- (2.5,2.5);
                %\node[orange] at (2.5,2.3) {y = x};
        
                % Fixed point
                \filldraw (0.9,0.9) circle (1pt);
                %\node[orange] at (1.2,1.2) {FIKSNA};
                
                % Second cycle points
                \filldraw (0.4,1.4) circle (1pt);
                \filldraw (1.4,0.4) circle (1pt);
                
                \draw[->, green!70!black, thick] (1.4,0.4) to[out=30,in=-150] (0.4,1.4);
                \draw[->, green!70!black, thick] (0.4,1.4) to[out=-150,in=+30] (1.4,0.4);
                
                % Labels
                \node[blue] at (2.5,1.2) {$(f_c^2)'(x_0) = 1$};
                %\node[green!60!black] at (1.5,-0.3) {DOBIMO 2-CIKEL};
            \end{scope}
        \end{tikzpicture}
        \end{center}
        
        V literaturi se taki bifurkaciji pogosto reče period-doubling. 
        Navadno pa se zahteva tudi, da se karakter fiksne točke pri prehodu prenese na 
        cikel, pri točki pa se spremeni npr. iz privlačne točke dobiš 
        privlačen $2$-cikel in odbojno fiksno točko.
\end{primer}

\section{Simbolična dinamika}

Oglejmo si šotorsko preslikavo za vrednost $c = 3$
$$
T_3(x) = 3\cdot \min\{x, 1-x\} = \frac{3}{2} T(x).
$$
Opazimo, da se v $[0, 1]$ preslikata zgolj intervala $[0, \frac{1}{3}]$
in $[\frac{2}{3}, 1]$.

\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=6cm, height=5.5cm]{Grafi/cobweb18.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}

Za drugi interat velja:
$$
T^2_3(x) = 3\min\{T_3(x), 1 - T_3(x)\}.
$$
Po dveh iteracijah v $[0, 1]$ ostanejo le točke intervalov $[0, \frac{1}{9}]$
in $[\frac{2}{3}, \frac{7}{9}]$ ter $[\frac{8}{9}, 1]$
\begin{figure}[h!]
    \begin{center}
        \includegraphics[width=8cm, height=5.5cm]{Grafi/cobweb19.png}
        %\caption{pajčevinast diagram iz Primera 3.}
    \end{center}
\end{figure}

Če nadaljujemo induktivno, ugotovimo, da po $n$ iteracijah ostanejo 
natanko točke množic:
$$
C_n = \frac{1}{3} C_{n-1} \cup \Big(1 - \frac{1}{3} C_{n-1}\Big)\,\, \text{ za } \,\, C_0 = [0, 1].
$$
Torej v $[0, 1]$ za vse iteracije ostanejo natanko točke $C = \bigcap_{n=1}^\infty C_n$.
To je t.i. \textbf{Cantorjeva množica}. 
\noindent
Radi bi raziskali dinamiko preslikave $T_3: C \rightarrow [0, 1]$. 
Pomagamo si s t.i. simbolično dinamiko. Naj bo 
$$
S = \{ \overline{s} = (s_1, s_2, \dots) \,|\, s_j \in \{0, 1\}\} = 2^\N.
$$
Na ta prostor uvedemo metriko 
$$
d(\overline{s}, \overline{t}) = \sum_{j=1}^\infty \frac{|s_j - t_j|}{2^j}.
$$
Torej sta zaporedji $\frac{1}{2^{j+1}}$ - blizu, če se ujemata do $j$-te 
komponente. Vsakemu elementu $x\in C$ lahko na bijektiven način priredimo 
zaporedje $\overline{s}$, in sicer:

\[
\begin{tikzpicture}[>=stealth, node distance=2cm]
\node (A) at (0,0) {$x \in \left[0, \tfrac{1}{3}\right] \Rightarrow S_1 = 0$};
\node (B1) at (5,1.5) {$x \in \left[0, \tfrac{1}{9}\right] \Rightarrow S_2 = 0$};
\node (B2) at (5,-0.5) {$x \in \left[\tfrac{2}{9}, \tfrac{3}{9}\right] \Rightarrow S_2 = 1$};

\node (C) at (0,-2.5) {$x \in \left[\tfrac{2}{3}, 1\right] \Rightarrow S_1 = 1$};
\node (D1) at (5,-1.5) {$x \in \left[\tfrac{6}{9}, \tfrac{7}{9}\right] \Rightarrow S_2 = 1$};
\node (D2) at (5,-3.5) {$x \in \left[\tfrac{8}{9}, 1\right] \Rightarrow S_2 = 0$};

% Arrows
\draw[->] (A) -- (B1);
\draw[->] (A) -- (B2);

\draw[->] (C) -- (D1);
\draw[->] (C) -- (D2);
\end{tikzpicture}
\]

tj. za $s_n$ izberemo $0$ ali $1$ glede na to, ali smo šli levo ali desno. 
Nekoliko težje je dokazati, da je taka $h: C \rightarrow S$ homeomorfizem.
Premislimo, kako delujeta $T_3$ in $f = h\circ T_3 \circ h^{-1}$
\begin{align*}
&x\in \Big[0, \frac{1}{3}\Big] \Longrightarrow T_3(x) = 3x \,\,\text{ oz. }\,\,  (0, s_2, s_3, \dots) \mapsto (s_2, s_3, \dots) \\
&x\in \Big[\frac{2}{3}, 1\Big] \Longrightarrow T_3(x) = 3(1-x) \,\,\text{ oz. }\,\,  (1, s_2, s_3, \dots) \xmapsto{1-x} (0, \tilde{s}_2, \tilde{s}_3, \dots) \mapsto (\tilde{s}_2, \tilde{s}_3, \dots)
\end{align*}
in $\tilde{s}_j \neq s_j$. \\
Sklep: $T_3$ je konjugirana preslikavi 
$$
f(\bar{s})=\left\{\begin{array}{l}
    \left(s_2, s_3, \ldots\right) ; s_1=0 \\
    \left(\tilde{s}_2, \tilde{s}_3, \ldots\right) ; s_1=1.
\end{array}\right.
$$
Podobno kot pri podvojitveni preslikavi, lahko pokažemo, da je $f$ kaotična, torej 
je taka tudi $T_3: C \rightarrow [0, 1]$.

\begin{opomba}
V tem konkretnem primeru bi dokaz kaotičnosti lahko dokazali tudi s 
trojiškim zapisom, saj velja:
$$
C = \{0. x_1 x_2 \dots_{(3)} \,|\, x_j \neq 1\}.
$$
Vendar pa smo se odločili za malce bolj robustno metodo, ki bi funkcijo 
dala tudi za ostale $T_c$, za $c>2$, saj vse slikajo v $[0, 1]$ natanko 
množico, ki je homeomorfna Cantorjevi. Metoda dobro deluje, 
tudi kadar imamo več kot dve izbiri na vsakem koraku. Takrat izberemo 
$$
S = \{ \overline{s} = (s_1, s_2, \dots) \,|\, s_j \in \{0, 1, \dots, N-1\}\} = (N-1)^\N \, \text{ in }
\, d(\overline{s}, \overline{t}) = \sum_{j=1}^\infty \frac{|s_j - t_j|}{N^j}.
$$
Prednost te metode je, da loči med $(1, 0, 0, \dots)$ in $(0, N-1, N-1, \dots)$
zato se nam ni treba ubadati z neskončnimi nizi. Tovrstemu pristopu 
$n$ konjugiranju preslikav z operatorji zamika pravimo \textbf{simbolična dinamika}.
\end{opomba}

\section{Izrek Šarkovskega}

V tem razdelku bomo dokazali izrek, katerega rezultat je eden najbolj 
presenetljivih v realni dinamiki.
\begin{izrek}
Naj bo $I \subset \R$ kompakten interval in $f: I \rightarrow I$ zvezna. 
Če obstaja $3$-cikel, obstajajo tudi $n$-cikli za vse $n\in \N$.
\end{izrek}
\begin{proof}[Dokaz:]
Dokaz temelji na dveh lastnostih kompaktnih intervalov $I$, $J$ $\subset \R$:
\begin{enumerate}
    \item[i)] če je $I \subseteq f(J)$, potem obstaja interval $J_0 \subset J$, 
    da je $f(J_0) = I$.
    \item[ii)] če je $J \subseteq f(J)$, obstaja fiksna točka v $J$.
\end{enumerate}

Naj bodo $a < b < c$ točke v $3$-ciklu. BŠS lahko zapišemo $f(a) = b$,
$f(b) = c$ in $f(c) = a$. Naj bo $J_0 = [b, c]$. Naredimo tri korake:
\begin{itemize}
    \item zaradi zveznosti očitno velja: $J_0 \subseteq f(J_0)$, torej po 
    i) obstaja manjši interval $J_1 \subseteq J_0$, da je $f(J_1) = J_0$.
    \item Ker je $J_1 \subseteq J_0$, je $f(J_1) = J_0 \supseteq J_1$. 
    Torej lahko nadaljujemo induktivno.
    \item Dobimo: $[b, c] \supseteq J_1 \supseteq \dots \supseteq J_n$ in 
    $f(J_n) = J_{n-1}$.
\end{itemize}
Iz izpeljanega zaporedja inkluzij sledi: 
$$
f^n(J_n) = f^{n-1}(J_{n-1}) = \dots = f(J_1) = J_0 \supseteq J_1 \dots \supseteq J_n.
$$
Torej po ii) obstaja točka $x\in J_n$, ki zadošča $f^n(x) = x$, vendar pa 
nam ta metoda ne zagotovi minimalnosti $n\in \N$, možno je $f^k(x) = x$, 
za $k < n$. Popravimo na sledeč način:\\
vsi $J_n$ so v polovici $[b, c]$. Na koraku $n-1$ skočimo v $[a, b]$.
Naj bo $n\in \N\backslash \{1\}$ in naj bodo $J_0 \supseteq J_1 \supseteq \dots J_{n-2}$
kot zgoraj in naredimo naslednje korake
\begin{itemize}
    \item upoštevamo, da velja 
    $$
    f^{n-1}(J_{n-2}) = f(f^{n-2}(J_{n-2})) = f(J_0) \supseteq [a, c] \supseteq [a, b].
    $$
    Sedaj za razliko od prej definiramo $J_{n-1}$, kot množico z lastnostjo 
    $J_{n-1} \subseteq J_{n-2}$ in po i) $f^{n-1}(J_{n-1}) = [a, b]$.
    \item Na to relacijo dodamo $f$, kar nam da 
    $$
    f^n(J_{n-1}) = f([a, b]) \supseteq [b, c]
    $$
    kar pomeni, da obstaja $J_n \subseteq J_{n-1}$, da je $f^n(J_n) = [b, c]$.
    \item Posredno, to pomeni, da je $J_n \subseteq f^n(J_n)$ in, da obstaja $x\in J_n$, 
    da je $f^n(x) = x$.     
\end{itemize}
Minimalnost števila $n$: ker je $f^k(x) \in [b, c]$ za $k\in \{1, 2, \dots, n-2\}$, $x\in J_n$
in $f^{n-1}(x) \in [a, b)$. Res $f^{n-1}(x) \neq b$, saj bi v nasprotnem 
primeru veljalo $f^{n-1}(x) = a = f(x) \not\in [b, c]$. 

Sklep: perioda ni $n-1$, ker je $x\in [b, c]$ in $f^{n-1}(x)\in [a, b)$. 
Ni pa tudi manjša, ker za $k < n-1$ perioda nebi smela zapustiti $[b, c]$.
\end{proof}

\begin{primer}
Za šotorsko preslikavo $T_c(x)$ smo povedali, da se $3$-cikel pojavi 
pri $c \geq \frac{1 + \sqrt{5}}{2}$. Torej imamo od tam dalje, tudi periode 
vseh ostalih dolžin. To je konsistentno tudi za $c > 2$. kjer $n$ - cikle 
tvorimo s simbolično dinamiko. 
\end{primer}

\begin{primer}
Nujnost zvezvnosti: 
\begin{align*}
f(x) = 1 - \frac{1}{x} \,\Longrightarrow\, &f^2(x) = 1 - \frac{1}{1 - \frac{1}{x}} = \frac{1}{1-x} \\
&f^3(x) = 1 - \frac{1}{\frac{1}{1-x}} = 1 - (1-x) = x.
\end{align*}
Vidimo, da so vse točke $3$-cikli. Izjema sta točki $x = 0$ in $x = 1$, 
saj $f(0)$ in $f^2(1)$ nista definirani.
\end{primer}

Šikorski je leta $1965$, da velja še več: 
\begin{itemize}
    \item $\forall p\in \N$. $\exists m, n\in \N_0$: $p = 2^m(2n+1)$.
    \item $p_1 \triangleright p_2$ $\iff$ $m_1 < m_2$ ali $m_1 = m_2$ in $0 < n_1 < n_2$
    $$
    2^0 \cdot 3 \triangleright 2^0 \cdot 5 \triangleright 2^0 \cdot 7 \triangleright \dots 2\cdot 3 \triangleright 2\cdot 5 \triangleright \dots \triangleright 2^m \cdot (2n+1).
    $$
    \item Nato na konec te vrste dodamo števila z $n=0$ v padajočem 
    vrstesnem redu:
    $$
    2^m (2n+1) \triangleright 2^k \triangleright 2^{k-1} \triangleright \dots \triangleright 2 \triangleright 1.
    $$
\end{itemize}

\begin{izrek}[Šikorski]
Naj bo $I \subset \R$ kompakten interval in $f: I \rightarrow I$ zvezna.
Če obstaja $p$-cikel za $p\in \N$, obstajajo tudi vsi $2$-cikli 
za $p\triangleright q$.
\end{izrek}

\begin{primer}
Če ima $f$ cikel dolžine $14 = 2\cdot 7$, ima zagotovo tudi fiksno 
točko in vse cikle sodih dolžin razen morda $6$-cikla in $10$-cikla.
\end{primer}

\begin{opomba}
\hfill
\begin{itemize}
    \item Velja celo več tj. Šarkovskijev komplement, ki pove, da za 
    vsak $n \triangleright m$ obstaja funckija , ki ima $n$-cikel, a 
    nima $m$-cikla.
    \item Še ena zanimiva posledica: če ima $f$ zgolj končno število 
    periodičnih točk, morajo biti vse periode oblike $2^m$.
\end{itemize}
\end{opomba}

\section{Realna dinamika v višjih dimenzijah}

Pojme, ki smo jih obravnavali doslej, si lahko ogledamo tudi za 
realne preslikave $f: \R^n \rightarrow \R^n$ za $n \geq 2$.

\begin{primer}
    ~\\[-4mm]
    \begin{center}
        \begin{tikzpicture}[scale=1.2]
        % --- First square (original) ---
        \draw (0,0) rectangle (2,2);
        \draw[pattern=north east lines, pattern color=red] (0,0) rectangle (1,2);
        \draw[pattern=north west lines, pattern color=green!60!black] (1,0) rectangle (2,2);
        
        % Labels
        \draw[<->] (-0.3,0) -- (-0.3,2) node[midway,left] {$1$};
        \draw[<->] (0,-0.5) -- (2,-0.5) node[midway,below] {$1$};
        
        % --- Arrow to second figure ---
        \draw[->, thick] (2.2,1) -- (3,1);
        
        % --- Second rectangle (stretched) ---
        \begin{scope}[shift={(3.6,0)}]
        \draw (0,0) rectangle (4,1);
        \draw[pattern=north east lines, pattern color=red] (0,0) rectangle (2,1);
        \draw[pattern=north west lines, pattern color=green!60!black] (2,0) rectangle (4,1);
        
        % Arrows showing shift
        \draw[->, red, thick] (0.3,0.5) -- (1.7,0.5);
        \draw[->, green!60!black, thick] (2.3,0.5) -- (3.7,0.5);
        
        % Labels
        \draw[<->] (0,-0.5) -- (4,-0.5) node[midway,below] {$2$};
        \draw[<->] (-0.3,0) -- (-0.3,1) node[midway,left] {$\frac{1}{2}$};
        \end{scope}
        
        % --- Arrow to third figure ---
        \draw[->, thick] (7.8,1) -- (8.5,1);
        
        % --- Third square (folded) ---
        \begin{scope}[shift={(9.2,0)}]
        \draw (0,0) rectangle (2,2);
        \draw[pattern=north west lines, pattern color=green!60!black] (0,1) rectangle (2,2);
        \draw[pattern=north east lines, pattern color=red] (0,0) rectangle (2,1);
        
        % Arrows indicating fold
        \draw[->, red, thick] (0.5,0.5) -- (1.5,0.5);
        \draw[->, green!60!black, thick] (1.5,1.5) -- (0.5,1.5);
        
        % Labels
        \draw[<->] (0,-0.5) -- (2,-0.5) node[midway,below] {$1$};
        \draw[<->] (-0.3,0) -- (-0.3,2) node[midway,left] {$1$};
        \end{scope}
        \end{tikzpicture}
    \end{center}
\begin{align*}
&F: [0, 1) \times [0, 1) \rightarrow [0, 1) \times [0, 1) \\ 
&F(x, y) = \left(2x - \lfloor 2x \rfloor, \frac{1}{2}y - \frac{1}{2}\lfloor 2x \rfloor\right),
\end{align*}
kjer smo stranici $x = 1$ in $y=1$ izpustili zaradi dvojiškega zapisa.

Dvojiški zapis brez niza enic:
\begin{align*}
x = x_1 x_2 \dots_{(2)} \quad&\quad\quad\quad 0.x_2 x_3 \dots_{(2)} \\[-2mm]
&\longmapsto \quad\quad\quad\quad\quad\quad\quad \text{ tj. } \dots x_3x_2x_1 | y_1 y_2 y_3 \dots \,\,\longrightarrow\,\, x_3 x_2| x_1 y_1 y_2\dots \\[-2mm]
y = y_1 y_2 \dots_{(2)} \quad&\quad\quad\quad 0.x_1 y_1 \dots_{(2)}
\end{align*}

\noindent
$3$-periodična točka:\\[1mm]
npr. $(x, y) = (0. \overline{001}_{(2)}, 0. \overline{100}_{(2)}) = \dots 100100|100100 \dots$.\\
V desetiškem zapisu je to 
\begin{align*}
0.\overline{001}_{(2)} &= \frac{1}{8} + \frac{1}{64} + \dots = \frac{1}{2^3} \frac{1}{1 - \frac{1}{8}} = \frac{1}{7} \\
0.\overline{100}_{(2)} &= \frac{1}{2} + \frac{1}{16} + \dots = \frac{1}{2} \frac{1}{1 - \frac{1}{8}} = \frac{4}{7}.
\end{align*}

Preverimo: $F^3\Big(\frac{1}{7}, \frac{4}{7}\Big) = F^2\Big(\frac{2}{7}, \frac{2}{7}\Big) = F^3\Big(\frac{4}{7}, \frac{1}{7}\Big) = \Big(\frac{1}{7}, \frac{4}{7}\Big)$.

\begin{opomba}
    V splošnem taka tčka ne implicira obstoja vseh periodičnih točk, saj 
    izrek Šikorskega drži le za $n=1$, vendar v tem primeru obstajajo cikli 
    poljubne dolžine.
\end{opomba}
   
Kaj lahko povemo o privlačnosti oz. odbojnosti fiksne točke $(0, 0)$?
$$
F(x, y) = (2x - \lfloor 2x \rfloor, \frac{1}{2}y - \frac{1}{2}\lfloor 2x \rfloor) = (2x, \frac{1}{2} y) \,\text{ za }\, x < \frac{1}{2}.
$$
Za $y=0$: $x \rightarrow 2x \rightarrow 4x \rightarrow \dots$ za majhne $x$.\\
Za $x=0$: $y \rightarrow \frac{1}{2} y \rightarrow \frac{1}{4} y \rightarrow \dots$ za majhne $y$.\\[1mm]
Točka $(0, 0)$ ni stabilna , ni šibko odbojna in ni sibko privlačna, saj ima eno 
privlačno smer vzdolž $y$ osi in odbojno smer vzdolž $x$ osi. Taki 
točki se reče sedlo.\\
\noindent
Lokalno lahko $F$ zapišemo kot 
$$ F(x, y)=\left(\begin{array}{ll}
    2 & 0 \\
    0 & \frac{1}{2}
    \end{array}\right)\binom{x}{y}$$
\end{primer}

\begin{primer}
Oglejmo si še tri linearne primere s konstantnimi koeficienti:
\begin{itemize}
    \item $$ F(x, y)= \frac{1}{12}\left(\begin{array}{ll}
    5 & 3 \\
    3 & 5
    \end{array}\right)\binom{x}{y}$$
Zanima nas zaporedje 
$$
\binom{x_{n+1}}{y_{n+1}} = \text{\Large A} \binom{x_n}{y_n} = \dots = \text{\Large A}^{n+1} \binom{x_0}{y_0} .
$$
Potenco izračunamo z diagonalizacijo matrike $A$ oz. Jordanovim razcepom
$$
A^n = (PDP^{-1})^n = PD^n P^{-1} = P \left(\begin{array}{ll}
    \lambda_1^n & 0 \\
    0 & \lambda_2^n
    \end{array}\right) P^{-1} .
$$
V koordinatnem zapisu imamo 
$$
\binom{\tilde{x}}{\tilde{y}} = P^{-1} \binom{x}{y} 
$$
in 
$$
\binom{x_n}{y_n} = PD^n P^{-1} \binom{x_0}{y_0} \iff \binom{\tilde{x}_n}{\tilde{y}_n} = D^n \binom{x_0}{y_0}
$$
Konkretno je 
$$
A = \left(\begin{array}{ll}
    5 & 3 \\
    3 & 5
    \end{array}\right) = \left(\begin{array}{ll}
    1 & 1 \\
    1 & \!\!\!-1
    \end{array}\right) \left(\begin{array}{ll}
    8^{n+1} & 0 \\
    0 & 2^{n+1}
    \end{array}\right)
    \left(\begin{array}{ll}
        1 & 1 \\
        1 & \!\!\!-1
    \end{array}\right)
$$
rap both parts in a node and shift them to center:

\begin{center}
\begin{tikzpicture}[scale=1.3,>=stealth]

% Centering group
\begin{scope}[xshift=1cm] % Shift everything left by half the total width

% --- Left: Eigenbasis ---
\node at (-2,2.5) {V ``lastnih koordinatah'':};

\draw[->, thick] (-2,0) -- (2,0) node[below right] {$v_1$};
\draw[->, thick] (0,-2) -- (0,2) node[above left] {$v_2$};

\foreach \x in {-1.5,-1,-0.5}
  \draw[<-, red, thick] (\x,0) -- ({\x+0.3},0);

\foreach \x in {0.5, 1, 1.5}
  \draw[->, red, thick] (\x,0) -- ({\x+0.3},0);

\foreach \y in {-1.5,-1,-0.5}
  \draw[->, magenta, thick] (0,\y) -- (0,{\y-0.3});

\foreach \y in {0.5, 1, 1.5}
  \draw[<-, magenta, thick] (0,\y) -- (0,{\y-0.3});


\foreach \a in {45,135,225,315}
  \foreach \r in {0.6,1.2}
    \draw[->, green!60!black, thick, rotate=\a] (\r,0) -- ({\r+0.3},0);

% --- Right: Standard Basis ---
\begin{scope}[xshift=5cm]
\node at (-2,2.5) {V navadnih koordinatah:};

\draw[->, thick] (-2,0) -- (2,0) node[below right] {};
\draw[->, thick] (0,-2) -- (0,2) node[above left] {};

\foreach \x in {0.5,1,1.5}
  \draw[->, green!60!black, thick] (\x,0) -- ({\x+0.3},0);

  \foreach \x in {-0.5,-1,-1.5}
  \draw[<-, green!60!black, thick] (\x,0) -- ({\x+0.3},0);

\foreach \i in {-1.5,-1,-0.5}
  \draw[<-, magenta, thick] (\i,\i) -- ({\i+0.3},{\i+0.3});

\foreach \i in {0.5, 1, 1.5}
  \draw[->, magenta, thick] (\i,\i) -- ({\i+0.3},{\i+0.3});

\foreach \i in {0.5,1,1.5}
  \draw[->, red, thick] (\i,-\i) -- ({\i+0.3},{-\i-0.3});

  \foreach \i in {-0.5,-1,-1.5}
  \draw[<-, red, thick] (\i,-\i) -- ({\i+0.3},{-\i-0.3});

\end{scope}

\end{scope}
\end{tikzpicture}
\end{center}

\item $$ F(x, y)= \frac{1}{12}\left(\begin{array}{ll}
    0 & -2 \\
    2 & 0
    \end{array}\right)\binom{x}{y}$$
Tokrat sta lastni vrednosti $\lambda_{1,2} = \pm 2i$ in lastna vektorja 
$v_{1,2} = (\pm i, 1)$. Iz grafa vidimo, da je točka $(0, 0)$ v tem primeru 
odbojna

\begin{center}
    \begin{tikzpicture}[scale=2, >=stealth]
    % Axes
    \draw[->, thick] (-1.5,0) -- (1.5,0); % x-axis
    \draw[->, thick] (0,-1.5) -- (0,1.5); % y-axis
    
    % Points on horizontal axis (magenta)
    \filldraw[green] (-0.5,0.5) circle (0.03);
    \filldraw[green] (0.6,0.7) circle (0.03);
    \filldraw[green] (0.5,-0.9) circle (0.03);
    \filldraw[green] (-1.2,-0.7) circle (0.03);
    \filldraw[green] (-0.7,1.2) circle (0.03);
   
   
    % Points on vertical axis (green)
    %\filldraw[green!60!black] (0,-1) circle (0.03);
    
    \draw[blue, ->] (-0.5,0.5) to[out=60,in=120,looseness=1.2] (0.6,0.7);
    \draw[blue, ->] (0.6,0.7) to[out=300,in=60,looseness=1.2] (0.5,-0.9);
    \draw[blue, ->] (0.5,-0.9) to[out=220,in=280,looseness=1.2] (-1.2,-0.7);
    \draw[blue, ->] (-1.2,-0.7) to[out=90,in=230,looseness=1.2] (-0.7,1.2);
    
    \filldraw[magenta] (-0.2,0.2) circle (0.03);
    \filldraw[magenta] (0.3,0.25) circle (0.03);
    \filldraw[magenta] (0.25,-0.3) circle (0.03);
    \filldraw[magenta] (-0.4,-0.25) circle (0.03);
    \filldraw[magenta] (-0.3,0.4) circle (0.03);

    % Arrows connecting them in a closed loop
    \draw[green, ->] (-0.2,0.2) to[out=60,in=120,looseness=1.2] (0.3,0.25);
    \draw[green, ->] (0.3,0.25) to[out=300,in=60,looseness=1.2] (0.25,-0.3);
    \draw[green, ->] (0.25,-0.3) to[out=220,in=280,looseness=1.2] (-0.4,-0.25);
    \draw[green, ->] (-0.4,-0.25) to[out=90,in=230,looseness=1.2] (-0.3,0.4);
    
    \end{tikzpicture}
    \end{center}
    \item Fibonaccijevo zaporedje: 
    $$
    a_{n+1} = a_n + a_{n-1}.
    $$
    Podobno kot pri NDE lahkom lahko rekurzivne enačbe prevedemo na sistem.

    \begin{align*}
    \binom{x_{n+1}}{y_{n+1}} &= \binom{a_n}{a_{n+1}} = \binom{a_n}{a_{n} + a_{n-1}} = 
    \binom{y_n}{y_{n} + x_n} = \left(\begin{array}{ll}
        0 & 1 \\
        1 & 1
        \end{array}\right) \binom{x_{n}}{y_{n}}
    \end{align*}
Dobimo rešitev:
$$
\binom{x_{n}}{y_{n}} = P \left(\begin{array}{ll}
    \Big(\frac{1+\sqrt{5}}{2} \Big) & \,\,\,\,\,\,\,\,0 \\
    \,\,\,\,\,\,\,\,0 & \Big(\frac{1-\sqrt{5}}{2} \Big)\end{array}\right) P^{-1} \binom{x_0}{y_0}.
$$
\end{itemize}
\end{primer}

\begin{trditev}
Če so vse lastne vrednosti $A$ po absolutni vrednosti $0 < |\lambda|< 1$,
je izhodišče asimptotsko stabilna točka preslikave $F: \R^m \rightarrow \R^M$, 
$f(\vec{x}) = A\vec{x}$. Če so lastne vrednosti $|\lambda| > 1$, je 
odbojna.
\end{trditev}

\begin{proof}[Dokaz(skica):]

Naj bo $A = P J P^{-1}$ Jordanov razcep matrike $A$. V spremenjenih 
koordinatah velja:
$$\binom{\tilde{x}_n}{\tilde{y}_n} = J^n \binom{x_0}{y_0}.$$
V primeru $2\times 2$ matrik imamo dve možnosti:
\begin{itemize}
    \item $J = \left(\begin{array}{ll}
    \lambda_1^n & 0 \\ 
    0 & \lambda_2^n
    \end{array}\right)$ $\longrightarrow$ 
    $\left(\begin{array}{ll}
        0 & 0 \\ 
        0 & 0
        \end{array}\right)$, če $|\lambda_1|, \lambda_2| < 1$.
    \item $J = \left(\begin{array}{ll}
    \lambda & 1 \\
    0 & 1
    \end{array}\right) = \left(\begin{array}{ll}
        \lambda^n & n\cdot \lambda^{n-1} \\
        0 & \,\,\,\,\lambda^n
        \end{array}\right)$  $\longrightarrow$
    $\left(\begin{array}{ll}
        0 & 0 \\ 
        0 & 0
        \end{array}\right)$, če $|\lambda| < 1$.
\end{itemize}
Podobno večja v višjih dimenzijah in za $|\lambda| > 1$.
\end{proof}

So pa linearni primeri s konstantnimi koeficienti osnova tudi za 
nelinearno teorijo.

\begin{definicija}
Naj bo $f: \R^n \rightarrow \R^n$ $C^1$ preslikava. Točka $\vec{x_0} \in U$
je \textbf{hiperbolična} fiksna točka, če zanjo velja $F(\vec{x}_0) = \vec{x}_0$, 
za lastne vrednosti Jacobijeve matrike $DF(\vec{x_0})$ velja $0<|\lambda_j| \neq 1$.
\end{definicija}

\begin{izrek}[Hartman-Grobman]
Naj bo $F: U\subset \R^n \rightarrow U$ $C^1$ preslikava in $\vec{x_0} \in U$ 
hiperbolična fiksna točka. Potem obstaja homeomorfizem $\varphi$, ki 
okolico $\vec{x_0}$ slika vase in zanj velja $\varphi \circ DF(\vec{x}_0) = F \circ \varphi$.
\end{izrek}

\begin{proof}[Dokaz:]
\begin{itemize}
    \item Brez škode za splošnost je $\vec{x_0} = 0$, kar dosežemo s translacijo. 
    \item Ker je $F \in C^1$, velja razvoj 
    $$ 
    F(\vec{x}) = \vec{x}_0 + DF(\vec{x}_0)\cdot \vec{x} + r(\vec{x}) 
    = A\vec{x} + r(\vec{x}),
    $$
    kjer sta $r(\vec{x})$ ostanek reda $|\vec{x}|^2$ in $A = DF(\vec{x}_0)$.
    \item Sumimo, da je $\varphi$ skoraj indentiteta t.j. $\varphi(\vec{x}) = \vec{x} + h(\vec{x})$ 
    za nek $h$ z majhno absolutno vrednostjo. To vstavimo v zvezo: 
    $$\varphi \circ A(\vec{x}) = A\vec{x} + \vec{A\vec{x}} = F\circ \varphi(\vec{x}) = F(\vec{x} + h(\vec{x})) = A(\vec{x} + h(\vec{x})) + \vec{r}(\vec{x} + h(\vec{x})).$$
    Dobimo: $$ h(A\vec{x}) = Ah(\vec{x}) + \vec{r}(\vec{x} + h(\vec{x})) $$ oz. 
    $$ h(\vec{y}) = Ah(A^{-1} \vec{y}) + \vec{r}(A^{-1} \vec{y} + h(A^{-1} \vec{y})) $$ za $y = A\vec{x}$
    \item Ključen del je pokazati, da je desna stran 
    \begin{align*}
        &D: C^1(U', \R^n) \rightarrow C(U', \R^n) \,\text{ za }\, U' \subset U \subset \R^n\\
        &D(h) = AhA^{-1} + r(A^{-1} + h(A^{-1}))
    \end{align*}
    skrčitev za za metriko $d_\infty$.    
    \item $r$ je kvadratnega reda in omejena z velikostjo okolice 
    okoli $\vec{x}_0 = 0$, zato je pomemben le prvi sumand.
\end{itemize}
Poglejmo si najbolj preprost primer, t.j. ko je $A$ diagonalna in so 
$0 < \lambda_j < q < 1$. Velja 
\begin{align*}
d_\infty(Ah_1 A^{-1}, A h_2 A^{-1}) = \max\limits_{\vec{y}} |Ah_1 A^{-1} \vec{y} - Ah_2 A^{1} \vec{y}| = 
\max\limits_{\vec{x}} |A(h_1 - h_2)\vec{x}| \leq 
\end{align*}
upoštevamo: $|\text{diag}(\lambda_1, \dots, \lambda_n) \cdot \vec{v}| \leq \max\limits_{j} |\lambda_j| \cdot |\vec{v}|$
$$
\leq \max\limits_{j} |\lambda_j| \cdot \max\limits_{\vec{x}} |h_1 - h_2| \leq q\cdot d_\infty(h_1, h_2).
$$
V splošnem moramo delati z primernimi matričnimi normami. Če so nekate $|\lambda_j| > 1$, 
moramo preoblikovati enačbo tako, da na koncu gledamo $h\mapsto A^{-1} h A + $ drugi red.
V mešanem delu pa reševanje razbijemo na dva dela.
\end{proof}

\begin{primer}
Naj bo $F(x, y) = (\frac{1}{2}x^2, y^2)$. Fiksni točki sta $(0, 0)$ in $(0, 1)$.
$DF(x, y) = \left(\begin{array}{ll}
    \frac{1}{2} & 0 \\ 
    0 & 2y
    \end{array}\right)$ $\Longrightarrow$ 
    $DF(0, 0) = \left(\begin{array}{ll}
    \frac{1}{2} & 0 \\ 
    0 & 0
    \end{array}\right)$, izrek ne deluje. \\
Za $DF(0, 1) = \left(\begin{array}{ll}
    \frac{1}{2} & 0 \\ 
    0 & 1
    \end{array}\right)$ imamo sedlo.
    \begin{center}
\begin{tikzpicture}[>=Stealth, thick]

    % Axes
    \draw[very thick, blue!80!black,->] (-4,0) -- (4,0);
    \draw[very thick, blue!80!black,->] (0,-1.5) -- (0,4.5);
    
    % Red horizontal arrows
    \foreach \x in {-3,-2.3,...,-0.3} {
      \draw[->, red, thick] (\x,2) --++ (0.7,0);
    }
    
    \foreach \x in {3,2.3,...,-0.3} {
      \draw[<-, red, thick] (\x,2) --++ (0.7,0);
    }

    % Pink vertical arrows
    \foreach \y in {0.3,0.7,...,1.7} {
      \draw[<-, magenta, thick] (0,\y) --++ (0,-0.3);
    }
    \foreach \y in {2.3,2.7,...,3.7} {
      \draw[<-, magenta, thick] (0,\y) --++ (0,0.3);
    }
    
    % Orange curved arrows pointing outward
    \draw[->, orange, thick] (3,2.2) to[out=180,in=-90] (0.2, 4.5);
    \draw[->, orange, thick] (-3,2.2) to[out=0,in=-90] (-0.2, 4.5);
    
    \draw[->, orange, thick] (3,1.8) to[out=180,in=90] (0.2, 0.2);
    \draw[->, orange, thick] (-3,1.8) to[out=0,in=90] (-0.2, 0.2);
    

    % Green curved arrows near origin
    \draw[<-, green!60!black, thick] (0.3,0.2) to[out=20,in=180] (1.5,1);
    \draw[->, green!60!black, thick] (-1.5,1) to[out=-50,in=170] (-0.3,0.2);
    
    % Dots (dark blue)
    \fill[blue!80!black] (0,2) circle (3pt);
    \fill[blue!80!black] (0,0) circle (3pt);
    
    \end{tikzpicture}
\end{center}
\end{primer}

Poglejmo si še en pomemben primer, ki se bo pojavil pri 
zveznih sistemih, pri njem pa se uporabi simbolična dinamika.

\begin{primer}[Snaleova podkev]
\hfill
\begin{center}
\begin{tikzpicture}[>=Stealth, thick]
    
    %%%% FIRST BLOCK - ORIGINAL SQUARE %%%%
    % Square
    \draw[blue] (0,3) rectangle (2,4);
    % Vertical lines
    \draw[blue] (2/3,3) -- (2/3,4);
    \draw[blue] (4/3,3) -- (4/3,4);
    % Hatching
    \fill[pattern=north east lines, pattern color=red] (0,3) rectangle (2/3,4);
    \fill[pattern=north west lines, pattern color=green!70!black] (4/3,3) rectangle (2,4);
    % Side labels
    \node at (-0.3,3.5) {1};
    \node at (1,2.8) {1};
    
    % Arrow to second
    \draw[->, blue] (2.3,3.5) -- (3.7,3.5);
    
    %%%% SECOND BLOCK - STRETCHED STRIP %%%%
    % Horizontal rectangle
    \draw[blue] (4,3.2) rectangle (7,3.8);
    % Vertical lines
    \draw[blue] (5,3.2) -- (5,3.8);
    \draw[blue] (6,3.2) -- (6,3.8);
    % Hatching
    \fill[pattern=north east lines, pattern color=red] (4,3.2) rectangle (5,3.8);
    \fill[pattern=north west lines, pattern color=green!70!black] (6,3.2) rectangle (7,3.8);
    % Labels
    \node at (3.7,3.95) {$\frac{1}{3}$};
    % Arrows for stretching
    \draw[->, red] (4,3.1) --++ (0.7,0);
    \draw[->, green!60!black] (6,3.1) --++ (0.7,0);
    
    % Arrow to final horseshoe
    \draw[->, blue] (7.3,3.5) -- (8.5,3.5);
    
    %%%% THIRD BLOCK - FOLDED (HORSESHOE) %%%%
    % Two vertical stacked rectangles (folded)
    \draw[blue, dashed] (9,3.2) rectangle (11,3.8);
    \draw[blue, dashed] (9,2.4) rectangle (11,3.0);
    
    % Hatching
    \fill[pattern=north east lines, pattern color=red] (9,2.4) rectangle (11,3.0);
    \fill[pattern=north west lines, pattern color=green!70!black] (9,3.2) rectangle (11,3.8);
    
    % Final direction arrows
    \draw[->, red] (9.5,2.3) --++ (1,0);
    \draw[->, green!60!black] (10.5,4) --++ (-1,0);
    
    \end{tikzpicture}
\end{center}
\begin{align*}
&F: [0, 1]\times [0, 1]  \rightarrow [0, 1]\times [0, 1] \\ 
&F(x, y)=\left\{\begin{array}{l}
    \left(3 x, \frac{1}{3} y\right) \quad\quad\quad\,\,; x \in\left[0, \frac{1}{3}\right] \\
    \left(3-3 x, 1-\frac{1}{3} y\right) ; x \in\left[\frac{2}{3}, 1\right]
    \end{array}\right. = \left\{\begin{array}{l}
        \left(T_3(x), \frac{1}{3} y\right) \,\quad\,\,; x \in\left[0, \frac{1}{3}\right] \\
        \left(T_3(x), 1-\frac{1}{3} y\right) ; x \in\left[\frac{2}{3}, 1\right]
        \end{array}\right.
\end{align*}
Inverz te preslikave:
\begin{center}
\begin{tikzpicture}[>=Stealth, thick]
    %%%% FIRST BLOCK - STACKED STRIPS %%%%
    \draw[blue] (0,2.5) rectangle (2,3.1); % Top
    \draw[blue] (0,1.7) rectangle (2,2.3); % Bottom
    
    % Hatching
    \fill[pattern=north west lines, pattern color=green!70!black] (0,2.5) rectangle (2,3.1);
    \fill[pattern=north east lines, pattern color=red] (0,1.7) rectangle (2,2.3);
    
    % Arrow to second
    \draw[->, blue] (2.3,2.4) -- (3.5,2.4);
    
    %%%% SECOND BLOCK - COMPRESSED VERTICAL RECTANGLE %%%%
    \draw[blue] (4,1.5) rectangle (5,3.5);
\draw[blue] (4,2.3) -- (5,2.3); % bottom border of green
\draw[blue] (4,2.7) -- (5,2.7); % top border of red

% Labels
\node at (5.3,3.4) {$\frac{2}{3}$};

% Hatching
\fill[pattern=north west lines, pattern color=green!70!black] (4,2.7) rectangle (5,3.5);
\fill[pattern=north east lines, pattern color=red] (4,1.5) rectangle (5,2.3);

% White middle block is left empty between y=2.3 and y=2.7

% Vertical arrows
\draw[->, green!60!black] (3.8,2.9) --++ (0,0.6);
\draw[->, red] (3.8,1.7) --++ (0,0.6);

% Arrow to final
\draw[->, blue] (5.5,2.4) -- (6.5,2.4);
    
    %%%% FINAL BLOCK - FOLDED BACK INTO SQUARE %%%%
    \draw[blue] (7,1.5) rectangle (9,3.5);
    \draw[blue] (7.66,1.5) -- (7.66,3.5);
    \draw[blue] (8.33,1.5) -- (8.33,3.5);
    
    % Hatching
    \fill[pattern=north east lines, pattern color=red] (7,1.5) rectangle (7.66,3.5);
    \fill[pattern=north west lines, pattern color=green!70!black] (8.33,1.5) rectangle (9,3.5);
    
    % Arrows
    \draw[->, red] (6.8,2.3) --++ (0,0.6);
    \draw[->, green!60!black] (9.2,3) --++ (0,-0.6);
    
    % Curved dashed arrow
    \draw[blue, dashed, ->] (8.9,3.5) to[out=60,in=120,looseness=1.2] (7.1,3.5);
    \draw[blue, dashed, ->] (8.6,3.5) to[out=90,in=90] (7.4,3.5);
\end{tikzpicture}
\end{center}

\begin{align*}
F^{-1}(x, y) = \left\{\begin{array}{l}
    \left(\frac{1}{3} x, T_3(y)\right) \,\,\quad\,\,; x \in\left[0, \frac{1}{3}\right] \\
    \left(1-\frac{1}{3} x, T_3(y)\right) ; x \in\left[\frac{2}{3}, 1\right]
    \end{array}\right.
\end{align*}
Preslikavo moramo opazovati na 
\begin{align*}
&C_n = \frac{1}{3} C_{n-1} \times \left(1 - \frac{1}{3} C_{n-1} \right), \quad C_0 = [0, 1].\\
&D = \bigcap_{n=1}^\infty C_n \times C_n.
\end{align*}

\newcommand{\sierpinski}[2][]{\tikz[#1]{
  \draw[fill=black] rectangle(1,1);
    \foreach \n[evaluate=\n as \m using \n-1, evaluate=\n as \s using 1/3^\n, evaluate=\m as \p using 3^\m] in {1,...,#2}{
      \foreach \k[evaluate=\k as \x using (2*\k-1)/2/3^\m] in {1,...,\p}{
        \foreach \j[evaluate=\j as \y using (2*\j-1)/2/3^\m] in {1,...,\p}{
          \node[fill=white, minimum size=\s cm, inner sep=0] at (\x,\y){};
}}}}}

\begin{center}
    \sierpinski[scale=4, transform shape]{4}    
\end{center}

Izkaže se, da je $F:D \rightarrow D$ homeomorfna preslikavi:
\begin{align*}
&\Sigma = \{(\overline{s}, \overline{t}) \,|\, \overline{s} = (s_1, s_2, \dots), \overline{t} = (t_1, t_2, \dots), s_j, t_j \in \{0, 1\}\} \\
&d((\overline{s}, \overline{t}), (\overline{s'}, \overline{t'})) = \sum_{j=1}^\infty \frac{|s_j - s'_j| + |t_j - t'_j|}{2^j} \\
&G(\overline{s}, \overline{t}) = \left\{\begin{array}{l}
    \left((s_2, s_3, \dots), (0, t_1, t_2, \dots)\right);\,\, s_1 = 0,\,\, \tilde{t}_j + t_j = 1  \\
    \left((\tilde{s}_2, \tilde{s}_3, \dots), (1, \tilde{t}_1, \tilde{t}_2, \dots)\right);\,\, s_1 = 1,\,\, \tilde{s}_j + s_j = 1
    \end{array}\right.
\end{align*}
Da se pokazati, da je ta preslikava kaotična.
\end{primer}

% Uncomment the following two lines if you want to have a bibliography. Please do not forget to add an entry to your bibliography and reference it by using the \cite{} command
%\bibliographystyle{alphadin}
%\bibliography{document}

% End of the document
\end{document}
